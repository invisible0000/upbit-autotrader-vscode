MACD:
  concept:
    title: MACD (Moving Average Convergence Divergence) 개념과 정의
    content: '## MACD의 기본 개념


      MACD는 Gerald Appel이 개발한 모멘텀 추종 지표로, 두 지수이동평균의 차이를

      통해 추세 변화와 모멘텀을 분석합니다. 단순한 크로스오버뿐만 아니라

      다이버전스 분석을 통한 추세 전환 신호도 제공합니다.


      ### 기술적 정의


      MACD는 세 가지 구성 요소로 이루어집니다:

      ```

      MACD Line = EMA(12) - EMA(26)

      Signal Line = EMA(MACD Line, 9)

      Histogram = MACD Line - Signal Line

      ```


      ### 변수 메타데이터


      - **Purpose Category**: momentum

      - **Chart Category**: subplot

      - **Comparison Group**: zero_centered

      - **구성**: MACD Line, Signal Line, Histogram

      - **기본 설정**: 12, 26, 9 (Fast, Slow, Signal)


      ### 모멘텀과 추세의 융합


      MACD는 추세 추종 지표(이동평균)와 모멘텀 지표의 특성을 결합합니다.

      0선 상위는 상승 모멘텀, 하위는 하락 모멘텀을 나타내며,

      Signal Line과의 교차는 단기 추세 변화를 시사합니다.


      ### 히스토그램의 의미


      히스토그램은 MACD Line과 Signal Line의 차이로, 모멘텀의 가속도를 나타냅니다.

      히스토그램 확장은 모멘텀 강화를, 수축은 모멘텀 약화를 의미하며,

      0선 교차 전 히스토그램이 먼저 신호를 제공하는 선행성을 가집니다.


      ### 다이버전스의 중요성


      MACD의 가장 강력한 기능은 가격과의 다이버전스 분석입니다.

      가격이 신고점을 경신해도 MACD가 이전 고점을 넘지 못하면 약세 다이버전스,

      반대의 경우 강세 다이버전스로 추세 전환을 조기에 감지할 수 있습니다.

      '
  advanced:
    title: MACD 고급 수학적 분석과 최적화
    content: '## 고급 MACD 파라미터 최적화


      ### 적응형 MACD 시스템


      시장 변동성에 따른 동적 파라미터 조정:

      ```

      변동성 계수 = ATR / CURRENT_PRICE


      고변동성시 (변동성 > 0.05):

      Fast EMA = 8, Slow EMA = 21, Signal = 6


      저변동성시 (변동성 < 0.02):

      Fast EMA = 16, Slow EMA = 35, Signal = 12


      표준 설정: Fast = 12, Slow = 26, Signal = 9

      ```


      ### MACD-RSI 융합 지표


      **모멘텀 강도 측정:**

      ```

      MACD_RSI = RSI(MACD_LINE, 14)


      강한 상승 신호:

      MACD_RSI > 70 + MACD_LINE > 0 + 골든크로스


      강한 하락 신호:

      MACD_RSI < 30 + MACD_LINE < 0 + 데드크로스

      ```


      ### 볼륨 가중 MACD (V-MACD)


      **거래량을 반영한 MACD:**

      ```

      V_MACD = VWEMA(12) - VWEMA(26)

      # VWEMA: Volume Weighted EMA


      효과:

      - 고거래량 구간의 가격 변화에 더 큰 가중치

      - 저거래량 허위 신호 필터링

      - 기관 투자자 움직임 반영

      ```


      ### 프랙탈 MACD 분석


      **다중 스케일 MACD:**

      ```

      단기 MACD: (5, 13, 8)   # 스캘핑용

      중기 MACD: (12, 26, 9)  # 표준 설정

      장기 MACD: (19, 39, 15) # 포지션 트레이딩용


      신호 통합:

      3개 MACD 모두 동일 방향시 강한 신호

      ```


      ### 기관투자자 수준의 MACD 활용


      **MACD 기반 포트폴리오 관리:**

      ```

      자산별 MACD 스코어 = (MACD_LINE / ATR) * 방향성


      포트폴리오 배분:

      양수 스코어 자산: 비중 증가

      음수 스코어 자산: 비중 감소


      리밸런싱: 월 1회 MACD 스코어 기준

      ```


      ### 옵션 전략 연계


      **MACD 기반 델타 헤지:**

      ```

      동적 델타 = MACD_LINE / (MACD_HIGH - MACD_LOW) * 0.5


      MACD 상승시: 델타 증가 (상승 익스포저 확대)

      MACD 하락시: 델타 감소 (하락 보호 강화)

      ```


      ### 머신러닝과 MACD


      **LSTM 기반 MACD 예측:**

      ```

      입력 변수: 과거 30일 MACD, Signal, Histogram

      출력 변수: 3일 후 MACD Line 방향


      신호 생성:

      예측 확률 > 75%시에만 실제 신호 실행

      ```


      ### 백테스팅 고도화


      **Walk-Forward MACD 최적화:**

      ```

      최적화 과정:

      1. 6개월 데이터로 최적 파라미터 탐색

      2. 다음 2주간 아웃오브샘플 테스트

      3. 샤프비율 기준 파라미터 선택

      4. 2주마다 롤링 업데이트


      평가 지표:

      - 승률 (Win Rate)

      - 평균 수익/손실 비율

      - 최대 연속 손실 횟수

      ```


      ### 극한 상황 대응


      **블랙 스완 이벤트 필터:**

      ```

      극한 상황 감지:

      |MACD_LINE - MACD_LINE[1]| > 3 * ATR


      비상 모드:

      - 모든 MACD 신호 일시 중단

      - 기존 포지션 50% 청산

      - 시장 정상화까지 신규 진입 금지

      ```


      ### 성과 측정 특화 지표


      **MACD 전략 효율성:**

      ```

      신호 정확도 = 수익 신호 수 / 전체 신호 수

      신호 지연성 = 실제 전환점 - MACD 신호 시점

      노이즈 비율 = 거짓 신호 수 / 전체 신호 수

      ```


      ### 주의사항


      - MACD는 후행 지표로 급격한 변화에 지연 반응

      - 횡보장에서 잦은 허위 신호 발생

      - 단일 MACD보다 다른 지표와의 조합 필수

      - 파라미터 과최적화 위험성 항상 고려

      '
  usage:
    title: 트리거 빌더에서 MACD 실전 활용법
    content: '## 트리거 빌더 조건 설정 방법


      ### 기본 시그널 라인 교차 전략


      ```

      조건 1: MACD_LINE > MACD_SIGNAL  # 골든 크로스

      조건 2: MACD_LINE < MACD_SIGNAL  # 데드 크로스

      조건 3: MACD_HISTOGRAM > 0  # 모멘텀 확장

      ```


      ### 제로 라인 교차 전략


      **0선 돌파 매수:**

      ```

      강세 진입 조건:

      - MACD_LINE > 0  # 0선 상향 돌파

      - MACD_LINE > MACD_SIGNAL  # 신호선 위 유지

      - MACD_HISTOGRAM > MACD_HISTOGRAM[1]  # 히스토그램 확장


      추가 확인:

      - CURRENT_PRICE > EMA_12  # 가격도 상승 추세

      ```


      **0선 이탈 매도:**

      ```

      약세 진입 조건:

      - MACD_LINE < 0  # 0선 하향 이탈

      - MACD_LINE < MACD_SIGNAL  # 신호선 아래 유지

      - MACD_HISTOGRAM < 0  # 히스토그램 음수

      ```


      ### 히스토그램 기반 조기 신호


      **모멘텀 전환 조기 감지:**

      ```

      조기 매수 신호:

      - MACD_HISTOGRAM > MACD_HISTOGRAM[1]  # 히스토그램 상승

      - MACD_HISTOGRAM[1] < MACD_HISTOGRAM[2]  # 이전에 하락했다가

      - MACD_LINE < MACD_SIGNAL  # 아직 데드 크로스 상태


      선행 신호: 히스토그램이 먼저 바닥을 치고 상승

      ```


      ### 다이버전스 패턴 활용


      **약세 다이버전스 감지:**

      ```

      약세 다이버전스 조건:

      - CURRENT_PRICE > HIGH_PRICE[20]  # 가격 신고점

      - MACD_LINE < MACD_HIGH[20]  # MACD는 이전 고점 미달

      - RSI < 70  # 과매수 상태 아님 (추가 확인)


      매도 신호: 다이버전스 확인 후 MACD 데드 크로스

      ```


      **강세 다이버전스 활용:**

      ```

      강세 다이버전스 조건:

      - CURRENT_PRICE < LOW_PRICE[20]  # 가격 신저점

      - MACD_LINE > MACD_LOW[20]  # MACD는 이전 저점보다 높음

      - VOLUME < VOLUME_SMA(20)  # 거래량 감소 (매도 압력 약화)


      매수 신호: 다이버전스 확인 후 MACD 골든 크로스

      ```


      ### 다중 시간 프레임 MACD


      **상위 시간대 필터링:**

      ```

      시간대별 MACD 확인:

      - 1H_MACD_LINE > 0  # 1시간봉 상승 추세

      - 15M_MACD 골든 크로스  # 15분봉 진입 신호


      필터 조건:

      상위 시간대 MACD와 동일 방향일 때만 진입

      ```


      ### 변동성 연계 전략


      **ATR과 MACD 조합:**

      ```

      고변동성 환경에서 MACD 활용:

      - ATR > ATR[20]  # 변동성 확장

      - MACD 골든 크로스 + 0선 돌파 동시 확인

      - 더 강한 신호 요구로 거짓 신호 감소

      ```

      '
