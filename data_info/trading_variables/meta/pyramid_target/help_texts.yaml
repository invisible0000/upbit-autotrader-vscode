# ═══════════════════════════════════════════════════════════════
# 🎯 META_PYRAMID_TARGET (피라미딩) - 간단 도움말 텍스트
# ═══════════════════════════════════════════════════════════════
# 대응 테이블: tv_help_texts (툴팁용)
# 지표 ID: META_PYRAMID_TARGET
# ═══════════════════════════════════════════════════════════════

# 매개변수별 간단 도움말
help_texts:
  # ─────────────────────────────────────────────────────────────
  # 📊 계산 방식 (Calculation Method)
  # ─────────────────────────────────────────────────────────────
  META_PYRAMID_TARGET_calculation_method:
    variable_id: "META_PYRAMID_TARGET"
    parameter_name: "calculation_method"
    help_text_ko: "피라미딩 계산 방식 (평단가%p/진입가%p/정적차이/극값비율%)"
    help_text_en: "Pyramiding calculation method (Avg%p/Entry%p/Static/Peak%)"
    tooltip_ko: "진입가%p는 추가 매수 기준, 평단가%p는 평균가 기준"
    tooltip_en: "Entry%p for additional buying criteria, Avg%p for average price basis"

  # ─────────────────────────────────────────────────────────────
  # 💰 계산값 (Value)
  # ─────────────────────────────────────────────────────────────
  META_PYRAMID_TARGET_value:
    variable_id: "META_PYRAMID_TARGET"
    parameter_name: "value"
    help_text_ko: "계산에 사용될 값 (퍼센트: 3.0=3%, 원화: 1000=1000원)"
    help_text_en: "Value for calculation (Percent: 3.0=3%, KRW: 1000=1000won)"
    tooltip_ko: "양수: 수익 추가매수(불타기), 음수: 손실 추가매수(물타기)"
    tooltip_en: "Positive: profit pyramid (buying), Negative: loss averaging (buying)"

  # ─────────────────────────────────────────────────────────────
  # 🎯 추적 방향 (Trail Direction)
  # ─────────────────────────────────────────────────────────────
  META_PYRAMID_TARGET_trail_direction:
    variable_id: "META_PYRAMID_TARGET"
    parameter_name: "trail_direction"
    help_text_ko: "피라미딩 방향 (UP: 불타기→상승추가매수, DOWN: 물타기→하락추가매수)"
    help_text_en: "Pyramid direction (UP: profit pyramid→buy on rise, DOWN: average down→buy on fall)"
    tooltip_ko: "상향: 수익 확대 전략, 하향: 손실 회복 전략"
    tooltip_en: "Up: profit expansion strategy, Down: loss recovery strategy"

  # ─────────────────────────────────────────────────────────────
  # 🔢 최대 횟수 (Max Count)
  # ─────────────────────────────────────────────────────────────
  META_PYRAMID_TARGET_max_count:
    variable_id: "META_PYRAMID_TARGET"
    parameter_name: "max_count"
    help_text_ko: "최대 피라미딩 횟수 (1-10회, 리스크 관리를 위한 제한)"
    help_text_en: "Maximum pyramiding count (1-10 times, risk management limit)"
    tooltip_ko: "횟수 소진시 자동 비활성화, 적을수록 안전"
    tooltip_en: "Auto-deactivates when count exhausted, fewer is safer"

  # ─────────────────────────────────────────────────────────────
  # 📊 지표 전체 도움말
  # ─────────────────────────────────────────────────────────────
  META_PYRAMID_TARGET_variable:
    variable_id: "META_PYRAMID_TARGET"
    parameter_name: null  # 변수 자체 도움말
    help_text_ko: "발동 기준점에서 설정 차이 달성시 신호 발생 후 횟수 차감, 소진시 비활성화"
    help_text_en: "Triggers signal when deviation from reference point is achieved, decrements count, deactivates when exhausted"
    tooltip_ko: "포지션 스케일링 및 수익/손실 관리 도구"
    tooltip_en: "Position scaling and profit/loss management tool"

# ─────────────────────────────────────────────────────────────
# 🎯 상황별 추가 팁
# ─────────────────────────────────────────────────────────────
contextual_tips:
  calculation_method_selection:
    beginner: "진입가%p로 시작하여 3-5% 설정 권장"
    intermediate: "평단가%p와 극값비율% 조합으로 유연한 전략"
    advanced: "정적차이로 절대값 기준 정밀한 스케일링"

  value_selection:
    conservative: "5-7% 범위에서 안정적 간격"
    moderate: "3-5% 범위에서 균형잡힌 설정"
    aggressive: "1-3% 범위에서 빈번한 추가매수"

  trail_direction_usage:
    bull_market: "상향 추적으로 불타기 (수익 극대화)"
    bear_market: "하향 추적으로 물타기 (평단가 낮추기)"
    sideways: "양방향 모두 고려하여 상황별 선택"

  max_count_guidance:
    risk_averse: "2-3회로 제한하여 안전한 스케일링"
    balanced: "3-5회로 적당한 포지션 확대"
    aggressive: "5-10회로 적극적 스케일링 (고위험)"

  market_specific:
    crypto: "높은 변동성으로 5-7% 간격, 3-5회 제한 권장"
    stocks: "안정적 시장으로 3-5% 간격, 2-4회 권장"
    forex: "낮은 변동성으로 2-3% 간격, 5-7회 가능"

# ─────────────────────────────────────────────────────────────
# ⚠️ 주의사항 및 경고
# ─────────────────────────────────────────────────────────────
warnings:
  general:
    - "횟수 소진 후 자동 비활성화되므로 신중한 설정 필요"
    - "반대 방향 움직임시 신호 없이 대기 (안전장치)"
    - "추적 변수의 타임프레임을 따르므로 별도 설정 불가"

  parameter_specific:
    excessive_count:
      - "7회 초과: 과도한 포지션 증가 위험"
      - "자금 관리 한계 초과 가능성"

    small_value:
      - "2% 미만: 과도한 신호 발생"
      - "거래 비용 대비 비효율적"

    large_value:
      - "15% 초과: 피라미딩 기회 제한"
      - "너무 넓은 간격으로 효과 감소"

    direction_risk:
      - "상향 추적: 고점 매수 위험 (불타기)"
      - "하향 추적: 지속 하락시 손실 확대 (물타기)"

# ─────────────────────────────────────────────────────────────
# 💡 실전 활용 예시
# ─────────────────────────────────────────────────────────────
practical_examples:
  profit_pyramiding:
    scenario: "BTC 5천만원 매수 후 상승 중"
    setting: "calculation_method: entry_price_percent, value: 5.0, direction: up, count: 3"
    explanation: "진입가 대비 5%씩 상승할 때마다 추가 매수 (최대 3회)"

  averaging_down:
    scenario: "ETH 300만원 매수 후 하락 중"
    setting: "calculation_method: average_price_percent, value: -3.0, direction: down, count: 4"
    explanation: "평단가 대비 3%씩 하락할 때마다 추가 매수 (최대 4회)"

  dynamic_scaling:
    scenario: "추세 추종 전략의 포지션 스케일링"
    setting: "calculation_method: percentage_of_tracked, value: 2.0, direction: up, count: 5"
    explanation: "극값 대비 2%씩 상승할 때마다 추가 매수로 포지션 확대"
