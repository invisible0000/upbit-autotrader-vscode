# ═══════════════════════════════════════════════════════════════
# 🎯 META_TRAILING_STOP (트레일링 스탑) - 간단 도움말 텍스트
# ═══════════════════════════════════════════════════════════════
# 대응 테이블: tv_help_texts (툴팁용)
# 지표 ID: META_TRAILING_STOP
# ═══════════════════════════════════════════════════════════════

# 매개변수별 간단 도움말
help_texts:
  # ─────────────────────────────────────────────────────────────
  # 📊 계산 방식 (Calculation Method)
  # ─────────────────────────────────────────────────────────────
  META_TRAILING_STOP_calculation_method:
    variable_id: "META_TRAILING_STOP"
    parameter_name: "calculation_method"
    help_text_ko: "트레일링 스탑 계산 방식 (평단가%p/진입가%p/정적차이/극값비율%)"
    help_text_en: "Trailing stop calculation method (Avg%p/Entry%p/Static/Peak%)"
    tooltip_ko: "극값 비율%는 최고/최저점 대비, %p는 퍼센트포인트"
    tooltip_en: "Peak% is relative to highs/lows, %p is percentage points"

  # ─────────────────────────────────────────────────────────────
  # 💰 계산값 (Value)
  # ─────────────────────────────────────────────────────────────
  META_TRAILING_STOP_value:
    variable_id: "META_TRAILING_STOP"
    parameter_name: "value"
    help_text_ko: "계산에 사용될 값 (퍼센트: -2.0=-2%, 원화: 1000=1000원)"
    help_text_en: "Value for calculation (Percent: -2.0=-2%, KRW: 1000=1000won)"
    tooltip_ko: "음수: 손실 제한, 양수: 이익 확보"
    tooltip_en: "Negative: loss limit, Positive: profit lock"

  # ─────────────────────────────────────────────────────────────
  # 🎯 추적 방향 (Trail Direction)
  # ─────────────────────────────────────────────────────────────
  META_TRAILING_STOP_trail_direction:
    variable_id: "META_TRAILING_STOP"
    parameter_name: "trail_direction"
    help_text_ko: "추적 방향 (UP: 고점추적→하락신호, DOWN: 저점추적→상승신호)"
    help_text_en: "Trail direction (UP: track highs→fall signal, DOWN: track lows→rise signal)"
    tooltip_ko: "상향: 수익 보호용, 하향: 손실 제한용"
    tooltip_en: "Up: profit protection, Down: loss limitation"

  # ─────────────────────────────────────────────────────────────
  # 📊 지표 전체 도움말
  # ─────────────────────────────────────────────────────────────
  META_TRAILING_STOP_variable:
    variable_id: "META_TRAILING_STOP"
    parameter_name: null  # 변수 자체 도움말
    help_text_ko: "추적 변수의 극값을 기록하고 설정 차이만큼 벗어나면 신호 발생 후 비활성화"
    help_text_en: "Tracks extremes of variable and triggers signal when deviation exceeds threshold, then deactivates"
    tooltip_ko: "동적 위험 관리 및 수익 보호 도구"
    tooltip_en: "Dynamic risk management and profit protection tool"

# ─────────────────────────────────────────────────────────────
# 🎯 상황별 추가 팁
# ─────────────────────────────────────────────────────────────
contextual_tips:
  calculation_method_selection:
    beginner: "극값 비율%로 시작하여 2-3% 설정 권장"
    intermediate: "진입가%p와 평단가%p 조합으로 세밀한 제어"
    advanced: "정적차이로 절대값 기준 정밀한 컨트롤"

  value_selection:
    conservative: "2-3% 범위에서 안정적 보호"
    moderate: "3-5% 범위에서 균형잡힌 설정"
    aggressive: "1-2% 범위에서 민감한 반응"

  trail_direction_usage:
    long_position: "상향 추적으로 수익 보호 (고점에서 하락 감지)"
    short_position: "하향 추적으로 손실 제한 (저점에서 상승 감지)"
    risk_management: "포지션 방향과 반대로 설정하여 안전장치 역할"

  market_specific:
    crypto: "높은 변동성으로 3-5% 범위 권장"
    stocks: "일반적으로 2-3% 범위가 효과적"
    forex: "낮은 변동성으로 1-2% 범위 고려"

# ─────────────────────────────────────────────────────────────
# ⚠️ 주의사항 및 경고
# ─────────────────────────────────────────────────────────────
warnings:
  general:
    - "신호 발생 후 즉시 비활성화되므로 재시작은 외부 트리거 필요"
    - "추적 변수의 타임프레임을 따르므로 별도 설정 불가"
    - "기본 변수와 연동되므로 해당 변수의 정상 동작 필요"

  parameter_specific:
    small_value:
      - "1% 미만: 과도한 신호 발생 위험"
      - "시장 노이즈에 민감한 반응"

    large_value:
      - "20% 초과: 트레일링 효과 제한"
      - "너무 늦은 신호로 보호 효과 감소"

    direction_mismatch:
      - "포지션 방향과 일치시 위험 증가"
      - "상향 추적은 매수 포지션, 하향 추적은 매도 포지션에 적합"

# ─────────────────────────────────────────────────────────────
# 💡 실전 활용 예시
# ─────────────────────────────────────────────────────────────
practical_examples:
  profit_protection:
    scenario: "BTC 매수 후 20% 수익 상황"
    setting: "calculation_method: percentage_of_tracked, value: -3.0, direction: up"
    explanation: "최고점에서 3% 하락시 매도하여 수익 보호"

  loss_limitation:
    scenario: "ETH 매수 후 하락 중 손실 제한"
    setting: "calculation_method: entry_price_percent, value: -5.0, direction: down"
    explanation: "진입가 대비 5% 손실에서 매도하여 추가 손실 방지"

  dynamic_exit:
    scenario: "추세 추종 전략의 동적 청산"
    setting: "calculation_method: average_price_percent, value: -2.0, direction: up"
    explanation: "평단가 기준 최고점에서 2%p 하락시 전량 매도"
