variable_id: BOLLINGER_BAND
help_documents:
  concept:
    title: BOLLINGER_BAND (볼린저 밴드) 개념과 정의
    content: |
      ## 볼린저 밴드의 기본 개념

      볼린저 밴드는 John Bollinger가 개발한 기술적 분석 도구로,
      이동평균선을 중심으로 표준편차를 이용해 상하한 채널을 형성하는 변동성 지표입니다.
      가격의 상대적 고점과 저점을 판단하고 변동성 변화를 감지하는 데 사용됩니다.

      ### 기술적 정의

      볼린저 밴드는 세 개의 라인으로 구성됩니다:
      ```
      중간선 (Middle Line) = 20일 단순이동평균 (SMA)
      상한선 (Upper Band) = 중간선 + (표준편차 × 2)
      하한선 (Lower Band) = 중간선 - (표준편차 × 2)
      ```

      ### 변수 메타데이터

      - **Purpose Category**: volatility
      - **Chart Category**: overlay
      - **Comparison Group**: price_comparable
      - **구성 요소**: Upper Band, Middle Line, Lower Band
      - **기본 설정**: 20일 이동평균, 2 표준편차

      ### 밴드의 통계적 의미

      정규분포 가정하에 약 95%의 가격이 상하한선 내에서 움직입니다.
      따라서 밴드를 벗어나는 가격 움직임은 통계적으로 드문 사건으로 간주되며,
      이는 추세의 과열 상태나 반전 신호로 해석할 수 있습니다.

      ### 변동성과 밴드 폭의 관계

      - **밴드 확장**: 변동성 증가, 트렌드 발생 또는 강화
      - **밴드 수축**: 변동성 감소, 횡보 구간, 브레이크아웃 전 징조
      - **밴드 워킹**: 강한 트렌드 시 가격이 상/하한선을 따라 이동

      ### 시장 심리와 볼린저 밴드

      상한선 근처는 과매수 영역, 하한선 근처는 과매도 영역으로 해석되지만,
      강한 트렌드에서는 밴드를 따라 지속적으로 움직일 수 있어
      단순한 역추세 신호로만 사용하기에는 한계가 있습니다.
  usage:
    title: 트리거 빌더에서 BOLLINGER_BAND 실전 활용법
    content: |
      ## 트리거 빌더 조건 설정 방법

      ### 기본 밴드 터치 전략

      ```
      조건 1: CURRENT_PRICE <= BOLLINGER_BAND_LOWER  # 하한선 터치
      조건 2: CURRENT_PRICE >= BOLLINGER_BAND_UPPER  # 상한선 터치
      조건 3: CURRENT_PRICE > BOLLINGER_BAND_MIDDLE  # 중간선 돌파
      ```

      ### 평균 회귀 전략 구현

      **하한선 매수 전략:**
      ```
      진입 조건:
      - CURRENT_PRICE < BOLLINGER_BAND_LOWER * 1.01  # 하한선 근처
      - RSI < 30  # 과매도 확인
      - VOLUME > VOLUME_SMA(20) * 1.2  # 거래량 증가

      익절 조건:
      - CURRENT_PRICE > BOLLINGER_BAND_MIDDLE  # 중간선 복귀
      ```

      **상한선 매도 전략:**
      ```
      매도 조건:
      - CURRENT_PRICE > BOLLINGER_BAND_UPPER * 0.99  # 상한선 근처
      - RSI > 70  # 과매수 확인
      - PROFIT_PERCENT > 5  # 최소 수익 확보
      ```

      ### 브레이크아웃 전략 구현

      **밴드 폭 기반 진입:**
      ```
      밴드폭 = (BOLLINGER_BAND_UPPER - BOLLINGER_BAND_LOWER) / BOLLINGER_BAND_MIDDLE

      진입 조건:
      - 밴드폭 < 과거 20일 평균 밴드폭 * 0.7  # 변동성 수축
      - CURRENT_PRICE > BOLLINGER_BAND_UPPER  # 상향 돌파
      - VOLUME > VOLUME_SMA(20) * 2.0  # 강한 거래량
      ```

      ### 스퀴즈 패턴 감지

      **볼린저 스퀴즈 조건:**
      ```
      스퀴즈 감지:
      - (BOLLINGER_BAND_UPPER - BOLLINGER_BAND_LOWER) / BOLLINGER_BAND_MIDDLE < 0.10
      - ATR < ATR[20] * 0.8  # 변동성 위축 확인

      브레이크아웃 대기:
      - 스퀴즈 후 첫 번째 밴드 이탈시 진입
      ```

      ### 트렌드 추종 전략

      **밴드 워킹 활용:**
      ```
      상승 트렌드 확인:
      - CURRENT_PRICE > BOLLINGER_BAND_MIDDLE
      - 최근 3일 중 2일 이상 상한선 근처 (UPPER * 0.95 이상)

      추가 매수 조건:
      - CURRENT_PRICE가 중간선까지 되돌아왔을 때
      - RSI가 70에서 50으로 하락했을 때
      ```

      ### 다중 시간 프레임 전략

      **상위 시간대 필터링:**
      ```
      1시간봉 트렌드 확인:
      - 1H CURRENT_PRICE > 1H BOLLINGER_BAND_MIDDLE

      15분봉 진입:
      - 15M CURRENT_PRICE < 15M BOLLINGER_BAND_LOWER
      - 1시간봉 상승 트렌드 유지 중
      ```
  advanced:
    title: BOLLINGER_BAND 고급 통계적 전략
    content: |
      ## 고급 변동성 분석 모델

      ### 적응형 볼린저 밴드

      표준 설정(20일, 2σ) 대신 시장 조건에 따른 동적 조정:

      ```
      동적 기간 = 20 * (1 + ATR변화율)
      동적 승수 = 2 * (1 + VIX지수/100)

      적응형 상한선 = SMA(동적기간) + 표준편차(동적기간) * 동적승수
      ```

      ### 볼린저 밴드 %B 지표

      가격의 밴드 내 상대적 위치를 정량화:
      ```
      %B = (CURRENT_PRICE - LOWER_BAND) / (UPPER_BAND - LOWER_BAND)

      해석:
      %B > 1.0: 상한선 돌파 (매우 과매수)
      %B = 0.5: 중간선 위치 (중립)
      %B < 0.0: 하한선 하회 (매우 과매도)
      ```

      ### 밴드 폭 지수 (BBW)

      변동성의 절대적 크기 측정:
      ```
      BBW = (UPPER_BAND - LOWER_BAND) / MIDDLE_BAND

      스퀴즈 감지: BBW < BBW의 6개월 최저값 * 1.1
      확장 감지: BBW > BBW의 6개월 최고값 * 0.9
      ```

      ### 다중 표준편차 전략

      **계층적 지지저항 설정:**
      ```
      1σ 밴드: 일상적 변동 범위 (약 68% 포함)
      2σ 밴드: 표준 볼린저 밴드 (약 95% 포함)
      3σ 밴드: 극단적 상황 감지 (약 99.7% 포함)

      전략:
      - 1σ 터치: 단기 스캘핑
      - 2σ 터치: 중기 포지션
      - 3σ 터치: 장기 역추세 배팅
      ```

      ### 상관관계 기반 고급 전략

      **다른 지표와의 다이버전스:**
      ```
      볼린저-RSI 다이버전스:
      - 가격이 새로운 고점 + 상한선 터치
      - RSI는 이전 고점보다 낮음
      → 약세 다이버전스, 매도 신호

      볼린저-거래량 다이버전스:
      - 가격이 하한선 터치하며 새로운 저점
      - 거래량은 이전 저점보다 감소
      → 매도 세력 약화, 반등 신호
      ```

      ### 기관투자자 관점의 활용

      **포트폴리오 변동성 관리:**
      ```
      개별 종목 변동성 = BBW * 100
      포트폴리오 전체 변동성 = √(Σ(비중² * 개별변동성²))

      리스크 예산 배분:
      낮은 BBW 종목 → 비중 증가
      높은 BBW 종목 → 비중 감소
      ```

      ### 옵션 전략과의 연계

      **변동성 차익거래:**
      ```
      내재변동성 vs 역사적변동성 비교:
      IV/HV 비율 = 옵션 내재변동성 / (BBW * 연간화상수)

      IV/HV > 1.2: 옵션 매도 (변동성 과대평가)
      IV/HV < 0.8: 옵션 매수 (변동성 과소평가)
      ```

      ### 백테스팅 최적화

      **파라미터 최적화 기법:**
      ```
      기간 최적화: 10-50일 범위에서 샤프비율 최대화
      승수 최적화: 1.5-3.0 범위에서 승률-손익비 균형점

      시장 환경별 적응:
      불 마켓: 기간 단축 (15일), 승수 증가 (2.5)
      베어 마켓: 기간 연장 (25일), 승수 감소 (1.8)
      ```

      ### 리스크 관리 고도화

      **동적 손절 시스템:**
      ```
      변동성 기반 손절:
      손절가 = 진입가 - (BBW * 진입가 * 위험도_계수)

      트레일링 스톱:
      이익 > 밴드폭의 2배시 → 중간선을 트레일링 기준으로 설정
      ```

      ### 주의사항

      - 볼린저 밴드는 방향성을 예측하지 않는 중립적 지표
      - 강한 트렌드에서는 지속적인 밴드 따라가기 현상 발생
      - 낮은 유동성 시장에서는 밴드의 의미 제한적
      - 뉴스나 이벤트로 인한 갭은 밴드 분석으로 예측 불가
