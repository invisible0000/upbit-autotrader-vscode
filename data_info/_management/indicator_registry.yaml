# ═══════════════════════════════════════════════════════════════
# 🌟 지표 마스터 레지스트리
# ═══════════════════════════════════════════════════════════════
# 목적: 200+ 금융 지표의 중앙 관리 및 분류
# 구조: 카테고리별 지표 분류 및 메타데이터 관리
# 작성일: 2025-08-15
# ═══════════════════════════════════════════════════════════════

metadata:
  version: "2.0.0"
  last_updated: "2025-08-15"
  total_indicators: 15  # 초기 구현 대상
  target_indicators: 200+  # 최종 목표
  structure_version: "distributed_by_indicator"
  description: "지표별 완전 분리 관리 시스템"

# ═══════════════════════════════════════════════════════════════
# 📊 지표 카테고리 정의
# ═══════════════════════════════════════════════════════════════
categories:
  trend:
    name_ko: "추세 지표"
    name_en: "Trend Indicators"
    description: "가격의 방향성과 추세를 분석하는 지표들"
    color_theme: "#4CAF50"  # 녹색

  momentum:
    name_ko: "모멘텀 지표"
    name_en: "Momentum Indicators"
    description: "가격 변화의 속도와 강도를 측정하는 지표들"
    color_theme: "#2196F3"  # 파란색

  volume:
    name_ko: "거래량 지표"
    name_en: "Volume Indicators"
    description: "거래량과 가격의 관계를 분석하는 지표들"
    color_theme: "#FF9800"  # 주황색

  volatility:
    name_ko: "변동성 지표"
    name_en: "Volatility Indicators"
    description: "가격 변동성과 리스크를 측정하는 지표들"
    color_theme: "#9C27B0"  # 보라색

  meta:
    name_ko: "메타 변수"
    name_en: "Meta Variables"
    description: "동적 관리 및 전략 실행 변수들"
    color_theme: "#607D8B"  # 회색

# ═══════════════════════════════════════════════════════════════
# 📋 지표 상세 등록부
# ═══════════════════════════════════════════════════════════════
indicators:
  # ────────────────────────────────────────────────────────────
  # 📈 추세 지표 (Trend Indicators)
  # ────────────────────────────────────────────────────────────
  SMA:
    category: "trend"
    folder_path: "indicators/trend/sma"
    display_name_ko: "단순이동평균"
    display_name_en: "Simple Moving Average"
    short_name: "SMA"
    complexity: "basic"      # basic, intermediate, advanced
    popularity: "very_high"  # very_high, high, medium, low
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "sma_calculator"

  EMA:
    category: "trend"
    folder_path: "indicators/trend/ema"
    display_name_ko: "지수이동평균"
    display_name_en: "Exponential Moving Average"
    short_name: "EMA"
    complexity: "basic"
    popularity: "very_high"
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "ema_calculator"

  BOLLINGER_BAND:
    category: "trend"
    folder_path: "indicators/trend/bollinger_bands"
    display_name_ko: "볼린저밴드"
    display_name_en: "Bollinger Bands"
    short_name: "BB"
    complexity: "intermediate"
    popularity: "high"
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "bollinger_calculator"

  # ────────────────────────────────────────────────────────────
  # 🔥 모멘텀 지표 (Momentum Indicators)
  # ────────────────────────────────────────────────────────────
  RSI:
    category: "momentum"
    folder_path: "indicators/momentum/rsi"
    display_name_ko: "RSI 지표"
    display_name_en: "Relative Strength Index"
    short_name: "RSI"
    complexity: "basic"
    popularity: "very_high"
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "rsi_calculator"

  MACD:
    category: "momentum"
    folder_path: "indicators/momentum/macd"
    display_name_ko: "MACD"
    display_name_en: "Moving Average Convergence Divergence"
    short_name: "MACD"
    complexity: "intermediate"
    popularity: "very_high"
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "macd_calculator"

  STOCHASTIC:
    category: "momentum"
    folder_path: "indicators/momentum/stochastic"
    display_name_ko: "스토캐스틱"
    display_name_en: "Stochastic Oscillator"
    short_name: "STOCH"
    complexity: "intermediate"
    popularity: "high"
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "stochastic_calculator"

  # ────────────────────────────────────────────────────────────
  # 📊 거래량 지표 (Volume Indicators)
  # ────────────────────────────────────────────────────────────
  VOLUME_SMA:
    category: "volume"
    folder_path: "indicators/volume/volume_sma"
    display_name_ko: "거래량 이동평균"
    display_name_en: "Volume Simple Moving Average"
    short_name: "VolSMA"
    complexity: "basic"
    popularity: "medium"
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "volume_sma_calculator"

  ATR:
    category: "volatility"
    folder_path: "indicators/volume/atr"
    display_name_ko: "평균 진폭"
    display_name_en: "Average True Range"
    short_name: "ATR"
    complexity: "intermediate"
    popularity: "high"
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "atr_calculator"

  # ────────────────────────────────────────────────────────────
  # 🎯 메타 변수 (Meta Variables)
  # ────────────────────────────────────────────────────────────
  META_TRAILING_STOP:
    category: "meta"
    folder_path: "indicators/meta/trailing_stop"
    display_name_ko: "트레일링 스탑"
    display_name_en: "Trailing Stop"
    short_name: "TrailStop"
    complexity: "advanced"
    popularity: "high"
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "trailing_stop_calculator"

  META_PYRAMID_TARGET:
    category: "meta"
    folder_path: "indicators/meta/pyramid_target"
    display_name_ko: "피라미딩 목표"
    display_name_en: "Pyramid Target"
    short_name: "Pyramid"
    complexity: "advanced"
    popularity: "medium"
    files:
      - definition.yaml
      - parameters.yaml
      - help_guide.yaml
      - help_texts.yaml
      - placeholders.yaml
    calculator_module: "pyramid_calculator"

# ═══════════════════════════════════════════════════════════════
# 🔧 파일 구조 템플릿
# ═══════════════════════════════════════════════════════════════
file_templates:
  definition:
    description: "tv_trading_variables 테이블 대응"
    required_fields:
      - variable_id
      - display_name_ko
      - display_name_en
      - description
      - purpose_category
      - chart_category
      - comparison_group
      - parameter_required
      - is_active
      - source

  parameters:
    description: "tv_variable_parameters 테이블 대응"
    structure: "parameter_name 별로 세부 설정"
    required_fields:
      - parameter_name
      - parameter_type
      - default_value
      - is_required
      - display_name_ko
      - display_name_en
      - description
      - display_order

  help_guide:
    description: "tv_variable_help_documents 테이블 대응"
    sections:
      - concept
      - parameter_guides
      - examples
      - additional_notes

  help_texts:
    description: "tv_help_texts 테이블 대응 (간단한 툴팁)"
    structure: "parameter별 help_text_ko, tooltip_ko"

  placeholders:
    description: "tv_placeholder_texts 테이블 대응"
    structure: "parameter별 placeholder_text_ko"

# ═══════════════════════════════════════════════════════════════
# 🚀 향후 확장 계획
# ═══════════════════════════════════════════════════════════════
expansion_roadmap:
  phase_1:
    description: "기본 지표 10개 구현"
    target_date: "2025-08-20"
    indicators: ["SMA", "EMA", "RSI", "MACD", "BOLLINGER_BAND"]

  phase_2:
    description: "중급 지표 20개 추가"
    target_date: "2025-08-30"
    new_categories: ["support_resistance", "candlestick_patterns"]

  phase_3:
    description: "고급 지표 및 사용자 정의"
    target_date: "2025-09-15"
    features: ["custom_indicators", "indicator_combinations"]

  phase_4:
    description: "200+ 전체 지표 완성"
    target_date: "2025-10-31"
    target_count: 200

# ═══════════════════════════════════════════════════════════════
# 🛠️ 도구 및 스크립트
# ═══════════════════════════════════════════════════════════════
management_tools:
  generator:
    script: "_management/generate_indicator_structure.py"
    description: "새 지표 폴더 구조 자동 생성"

  validator:
    script: "_management/validate_indicator_structure.py"
    description: "지표별 파일 구조 검증"

  merger:
    script: "_management/merge_indicators_to_db.py"
    description: "모든 지표 데이터를 DB로 통합"

  migrator:
    script: "_management/migrate_from_legacy.py"
    description: "기존 YAML에서 새 구조로 마이그레이션"
