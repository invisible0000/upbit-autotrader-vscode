# 전략 메이커 우선 개발 계획
Strategy Maker Priority Development Plan

## 📋 개발 방향 전환 결정사항

### ✅ **핵심 결정**
1. **수동 포지션 리스크 관리**: 전략 완성 후 일부 기능 재사용
2. **기존 매매전략 화면 제거**: 깨끗한 재시작을 위한 완전 삭제
3. **전략 메이커 우선 개발**: 포지션 기반은 나중에 붙이는 방식
4. **메인 UI 탭 구조 유지**: 기존 구조를 최대한 활용

### 🎯 **개발 우선순위**
1. **1순위**: 전략 메이커 (Strategy Builder)
2. **2순위**: 완성된 전략을 포지션에 붙이는 기능
3. **3순위**: 포지션 관리 기능 (포트폴리오/라이브 트레이딩)

---

## 🏗️ 전략 메이커 개발 태스크

### **Phase 1: 컴포넌트 시스템 완성**
- [x] 기본 컴포넌트 인터페이스 구현
- [x] 가격 트리거 컴포넌트
- [x] 거래 액션 컴포넌트  
- [x] 조건 컴포넌트
- [ ] 지표 트리거 컴포넌트 (RSI, MACD, 이동평균)
- [ ] 시간 트리거 컴포넌트
- [ ] 거래량 트리거 컴포넌트

### **Phase 2: 비주얼 전략 빌더 UI**
- [ ] 드래그 앤 드롭 컴포넌트 팔레트
- [ ] 전략 캔버스 (시각적 연결)
- [ ] 컴포넌트 설정 패널
- [ ] 전략 플로우 시각화
- [ ] 실시간 미리보기

### **Phase 3: 전략 테스트 시스템**
- [ ] 백테스팅 엔진 연결
- [ ] 시뮬레이션 실행
- [ ] 성과 분석 리포트
- [ ] 전략 최적화 도구

### **Phase 4: 전략 저장/관리**
- [ ] 전략 저장/불러오기
- [ ] 전략 템플릿 라이브러리
- [ ] 전략 공유 기능
- [ ] 버전 관리

---

## 🗂️ 정리 작업 목록

### **제거할 파일들**
```
/upbit_auto_trading/strategies/  # 기존 고정 전략들
/docs/INDIVIDUAL_STRATEGY_GUIDE.md
/docs/BUILT_IN_STRATEGY_LIBRARY.md
/strategy_manager_gui.py  # 기존 전략 관리 UI
```

### **Legacy 보관할 파일들**
```
/legacy_archive/
├── LEGACY_STRATEGY_EXECUTION_ENGINE_ARCHITECTURE.md
├── old_strategy_classes/
└── deprecated_ui_components/
```

### **유지할 파일들**
```
/upbit_auto_trading/component_system/  # 새로운 컴포넌트 시스템
/run_desktop_ui.py  # 메인 UI (탭 구조 유지)
/docs/COMPONENT_SYSTEM_ARCHITECTURE.md
```

---

## 🎨 새로운 전략 메이커 UI 구조

### **메인 UI 탭 구조 (유지)**
```
탭1: 전략 메이커 (Strategy Builder)
├── 컴포넌트 팔레트
├── 전략 캔버스  
└── 설정 패널

탭2: 전략 테스트 (Strategy Testing)
├── 백테스팅
├── 시뮬레이션
└── 성과 분석

탭3: 포지션 관리 (Position Management) [나중에]
├── 태그별 포지션 목록
├── 전략 연결 관리
└── 리스크 관리
```

### **전략 메이커 화면 레이아웃**
```
┌─────────────────┬─────────────────────────┬─────────────────┐
│   컴포넌트 팔레트   │       전략 캔버스         │    설정 패널      │
│                │                        │                │
│ 🔵 트리거        │   [가격변화] ──→ [조건] ──→  │ ⚙️ 컴포넌트 설정   │
│ ├ 가격변화       │   [RSI신호]      │     [매수] │ 📊 미리보기       │
│ ├ RSI          │                ↓       │ 💾 저장/불러오기   │
│ └ 이동평균      │              [익절]      │                │
│                │                        │                │
│ ⚡ 액션         │                        │                │
│ ├ 매수         │                        │                │
│ ├ 매도         │                        │                │
│ └ 포지션관리    │                        │                │
│                │                        │                │
│ 🛡️ 조건        │                        │                │
│ ├ 수익률       │                        │                │
│ ├ 잔고         │                        │                │
│ └ 시간         │                        │                │
└─────────────────┴─────────────────────────┴─────────────────┘
```

---

## ⚡ 즉시 작업 시작

### **1단계: 기존 파일 정리**
- 레거시 전략 파일들 아카이브로 이동
- 기존 전략 UI 제거
- 문서 정리

### **2단계: 컴포넌트 시스템 완성**
- 누락된 트리거 컴포넌트들 구현
- 컴포넌트 카탈로그 완성
- 단위 테스트 작성

### **3단계: 전략 빌더 UI 개발**
- PyQt6 기반 드래그앤드롭 UI
- 컴포넌트 연결 시스템
- 실시간 미리보기

이제 깔끔하게 정리하고 전략 메이커 개발에 집중하겠습니다! 🚀
