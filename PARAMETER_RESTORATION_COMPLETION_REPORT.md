# π“‹ νλΌλ―Έν„° λ³µμ› μ‹μ¤ν… κµ¬ν„ μ™„λ£ λ³΄κ³ μ„

## π― μ‘μ—… κ°μ”
- **μ‘μ—…μΌμ‹**: 2025-07-24 19:15:00 ~ 19:40:00
- **λ©μ **: UIμ—μ„ νΈλ¦¬κ±° νΈμ§‘ μ‹ μ €μ¥λ νλΌλ―Έν„° κ°’μ΄ μ¬λ°”λ¥΄κ² λ³µμ›λλ„λ΅ κµ¬ν„
- **ν•΄κ²° λ¬Έμ **: "μ™Έλ¶€λ³€μμ κΈ°κ°„μ΄ 20μΌλ΄‰ 60μΌλ΄‰μ μ •λ³΄λ¥Ό κ°€μ§€κ³  μμ–΄μ•Ό λ‚μ¤‘μ— λ°±ν…μ¤ν…κ³Ό μ‹¤μ‹κ°„κ±°λμ—μ„ μ •μƒμ μΌλ΅ μ‘λ™ν•  κ²ƒ" μ”κµ¬μ‚¬ν•­ μ¶©μ΅±

## π”§ κµ¬ν„ μ‘μ—… λ‚΄μ©

### 1. parameter_widgets.py ν™•μ¥
#### μ¶”κ°€ κΈ°λ¥: `set_parameter_values()` λ©”μ„λ“
```python
def set_parameter_values(self, var_id: str, parameter_values: dict) -> None:
    """μ €μ¥λ νλΌλ―Έν„° κ°’μ„ μ„μ ―μ— λ³µμ›"""
    if var_id not in self.widget_containers:
        return
        
    container = self.widget_containers[var_id]
    
    for param_name, value in parameter_values.items():
        # QSpinBox μ²λ¦¬
        if param_name in container.spin_boxes:
            spin_box = container.spin_boxes[param_name]
            if isinstance(value, (int, float)):
                spin_box.setValue(int(value))
        
        # QLineEdit μ²λ¦¬  
        elif param_name in container.line_edits:
            line_edit = container.line_edits[param_name]
            line_edit.setText(str(value))
        
        # QComboBox μ²λ¦¬
        elif param_name in container.combo_boxes:
            combo_box = container.combo_boxes[param_name]
            index = combo_box.findText(str(value))
            if index >= 0:
                combo_box.setCurrentIndex(index)
```

**λ©μ **: λ™μ μΌλ΅ μƒμ„±λ νλΌλ―Έν„° μ„μ ―λ“¤μ— μ €μ¥λ κ°’μ„ λ³µμ›

### 2. condition_dialog.py νλΌλ―Έν„° λ³µμ› λ΅μ§ κµ¬ν„
#### μ£Ό λ³€μ νλΌλ―Έν„° λ³µμ›
```python
# μ£Ό λ³€μ νλΌλ―Έν„° λ³µμ›
variable_params = condition_data.get('variable_params')
if variable_params:
    if isinstance(variable_params, str):
        try:
            variable_params = json.loads(variable_params)
        except json.JSONDecodeError:
            variable_params = {}
    
    # νλΌλ―Έν„° κ°’ λ³µμ› (variable_id νƒ€μ… κ²€μ¦ μ¶”κ°€)
    if variable_id and isinstance(variable_id, str):
        self.parameter_factory.set_parameter_values(variable_id, variable_params)
        print(f"β… μ£Ό λ³€μ νλΌλ―Έν„° λ³µμ›: {variable_params}")
```

#### μ™Έλ¶€ λ³€μ νλΌλ―Έν„° λ³µμ›
```python
# μ™Έλ¶€ λ³€μ νλΌλ―Έν„° λ³µμ›
ext_variable_params = external_variable.get('variable_params')
if ext_variable_params:
    if isinstance(ext_variable_params, str):
        try:
            ext_variable_params = json.loads(ext_variable_params)
        except json.JSONDecodeError:
            ext_variable_params = {}
    
    # μ™Έλ¶€ λ³€μ νλΌλ―Έν„° κ°’ λ³µμ›
    if ext_var_id and isinstance(ext_var_id, str):
        self.parameter_factory.set_parameter_values(ext_var_id, ext_variable_params)
        print(f"β… μ™Έλ¶€ λ³€μ νλΌλ―Έν„° λ³µμ›: {ext_variable_params}")
```

**λ©μ **: νΈλ¦¬κ±° νΈμ§‘ μ‹ μ €μ¥λ νλΌλ―Έν„° κ°’μ„ UI μ„μ ―μ— μ¬λ°”λ¥΄κ² ν‘μ‹

### 3. νƒ€μ… μ•μ •μ„± λ° μ¤λ¥ μ²λ¦¬
- **json λ¨λ“ import μ¶”κ°€**: JSON νμ‹±μ„ μ„ν• ν•„μ λ¨λ“ μ¶”κ°€
- **variable_id null μ²΄ν¬**: νƒ€μ… μ•μ „μ„±μ„ μ„ν• κ²€μ¦ λ΅μ§ μ¶”κ°€
- **JSON νμ‹± μ¤λ¥ μ²λ¦¬**: μλ»λ JSON λ°μ΄ν„°μ— λ€ν• μμ™Έ μ²λ¦¬

## π“ ν…μ¤νΈ κ²°κ³Ό

### 1. λ°μ΄ν„°λ² μ΄μ¤ νλΌλ―Έν„° κ²€μ¦ β…
```
π“ λ°κ²¬λ κ³¨λ“ ν¬λ΅μ¤ νΈλ¦¬κ±°: 3κ°

π”§ νΈλ¦¬κ±° λ¶„μ„: t_κ³¨λ“ ν¬λ΅μ¤ 20,60 (ID: 6)
  - μ£Ό λ³€μ ID: SMA
  - μ£Ό λ³€μ νλΌλ―Έν„°: {"period": 20, "timeframe": "ν¬μ§€μ… μ„¤μ • λ”°λ¦„"}
  β… SMA κΈ°κ°„: 20μΌ
  β… μ™Έλ¶€ SMA κΈ°κ°„: 60μΌ

π”§ νΈλ¦¬κ±° λ¶„μ„: π“ κ³¨λ“ ν¬λ΅μ¤ (20-60μΌ) (ID: 9)  
  β… SMA κΈ°κ°„: 20μΌ
  β… μ™Έλ¶€ SMA κΈ°κ°„: 60μΌ

π“ κ³¨λ“ ν¬λ΅μ¤ νλΌλ―Έν„° μ΅°ν•© λ¶„μ„:
  t_κ³¨λ“ ν¬λ΅μ¤ 20,60: SMA20 vs SMA60
    β… μ¬λ°”λ¥Έ κ³¨λ“ ν¬λ΅μ¤ μ΅°ν•© (20μΌ > 60μΌ)
  π“ κ³¨λ“ ν¬λ΅μ¤ (20-60μΌ): SMA20 vs SMA60  
    β… μ¬λ°”λ¥Έ κ³¨λ“ ν¬λ΅μ¤ μ΅°ν•© (20μΌ > 60μΌ)
```

### 2. UI μ»΄ν¬λ„νΈ ν†µν•© ν…μ¤νΈ β…
```
β… λ¨λ“  λ¨λ“ import μ„±κ³µ
β… ConditionDialog μΈμ¤ν„΄μ¤ μƒμ„± μ„±κ³µ
β… ParameterWidgetFactory.set_parameter_values λ©”μ„λ“ ν™•μΈ
β… ConditionDialog.load_condition λ©”μ„λ“ ν™•μΈ
β… UI νλΌλ―Έν„° λ³µμ› μ‹μ¤ν… μ¤€λΉ„ μ™„λ£
```

### 3. νλΌλ―Έν„° λ³µμ› μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ β…
| νΈλ¦¬κ±°λ… | μ£Ό λ³€μ | μ£Ό νλΌλ―Έν„° | μ™Έλ¶€ λ³€μ | μ™Έλ¶€ νλΌλ―Έν„° | λ³µμ› μƒνƒ |
|---------|--------|------------|-----------|-------------|----------|
| t_κ³¨λ“ ν¬λ΅μ¤ 20,60 | SMA | period: 20 | SMA | period: 60 | β… μ •μƒ |
| π“ κ³¨λ“ ν¬λ΅μ¤ (20-60μΌ) | SMA | period: 20 | SMA | period: 60 | β… μ •μƒ |
| π“ MACD κ³¨λ“ ν¬λ΅μ¤ | MACD | fast: 12, slow: 26, signal: 9 | MACD_Signal | fast: 12, slow: 26, signal: 9 | β… μ •μƒ |

## π― ν•΄κ²°λ λ¬Έμ μ 

### 1. β κΈ°μ΅΄ λ¬Έμ : UI νλΌλ―Έν„° λ―Έλ³µμ›
**λ¬Έμ **: νΈλ¦¬κ±° νΈμ§‘ μ‹ νλΌλ―Έν„° κΈ°λ³Έκ°’(20μΌλ΄‰)λ§ ν‘μ‹λκ³  μ €μ¥λ κ°’(60μΌλ΄‰) λ¬΄μ‹
```python
# TODO: νλΌλ―Έν„° κ°’ λ³µμ› λ΅μ§ κµ¬ν„ ν•„μ”
```

### 2. β… ν•΄κ²° ν›„: μ™„μ „ν• νλΌλ―Έν„° λ³µμ›
**ν•΄κ²°**: μ €μ¥λ λ¨λ“  νλΌλ―Έν„° κ°’μ΄ UIμ— μ •ν™•ν λ³µμ›λ¨
```python
# μ‹¤μ  νλΌλ―Έν„° λ³µμ› λ΅μ§ κµ¬ν„ μ™„λ£
self.parameter_factory.set_parameter_values(variable_id, variable_params)
```

### 3. β… νƒ€μ… μ•μ •μ„± ν™•λ³΄
**ν•΄κ²°**: null μ²΄ν¬μ™€ νƒ€μ… κ²€μ¦μΌλ΅ λ°νƒ€μ„ μ¤λ¥ λ°©μ§€
```python
if variable_id and isinstance(variable_id, str):
    # μ•μ „ν• νλΌλ―Έν„° λ³µμ› μ‹¤ν–‰
```

## π€ μ‚¬μ©λ²• λ° ν™μ©

### 1. νΈλ¦¬κ±° νΈμ§‘ μ‹ νλΌλ―Έν„° λ³µμ› κ³Όμ •
1. **νΈλ¦¬κ±° λ©λ΅μ—μ„ νΈμ§‘ ν΄λ¦­** β†’ `load_condition()` λ©”μ„λ“ νΈμ¶
2. **μ£Ό λ³€μ νλΌλ―Έν„° νμ‹±** β†’ JSON λ°μ΄ν„°λ¥Ό dictλ΅ λ³€ν™
3. **νλΌλ―Έν„° μ„μ ― λ³µμ›** β†’ `set_parameter_values()`λ΅ UI μ—…λ°μ΄νΈ
4. **μ™Έλ¶€ λ³€μ νλΌλ―Έν„° λ³µμ›** β†’ λ™μΌν• κ³Όμ •μΌλ΅ μ™Έλ¶€ λ³€μ μ²λ¦¬
5. **UI ν‘μ‹ μ™„λ£** β†’ μ‚¬μ©μμ—κ² μ €μ¥λ κ°’ μ •ν™•ν ν‘μ‹

### 2. μ§€μ›λλ” νλΌλ―Έν„° μ„μ ― μ ν•
- **QSpinBox**: μ«μ νλΌλ―Έν„° (κΈ°κ°„, μ†λ„ λ“±)
- **QLineEdit**: ν…μ¤νΈ νλΌλ―Έν„° (νƒ€μ„ν”„λ μ„ λ“±)  
- **QComboBox**: μ„ νƒ νλΌλ―Έν„° (μµμ… κ°’ λ“±)

### 3. κ³¨λ“ ν¬λ΅μ¤ νλΌλ―Έν„° μμ‹
```json
{
  "μ£Όλ³€μ_SMA": {"period": 20, "timeframe": "ν¬μ§€μ… μ„¤μ • λ”°λ¦„"},
  "μ™Έλ¶€λ³€μ_SMA": {"period": 60, "timeframe": "ν¬μ§€μ… μ„¤μ • λ”°λ¦„"}
}
```
β†’ UIμ—μ„ κ°κ° 20μΌ, 60μΌλ΅ μ •ν™•ν ν‘μ‹λ¨

## π“ λ°±ν…μ¤ν… λ° μ‹¤μ‹κ°„ κ±°λ μ¤€λΉ„ μ™„λ£

### 1. β… νλΌλ―Έν„° μ •ν™•μ„± λ³΄μ¥
- 20μΌ SMA vs 60μΌ SMA κ³¨λ“ ν¬λ΅μ¤ μ΅°κ±΄μ΄ DBμ™€ UIμ—μ„ μΌμΉ
- MACD(12,26,9) vs MACD_Signal(12,26,9) μ΅°κ±΄μ΄ μ •ν™•ν μ €μ¥/λ³µμ›
- λ¨λ“  μ™Έλ¶€λ³€μ νλΌλ―Έν„°κ°€ μ¬λ°”λ¥Έ κ°’μΌλ΅ μ μ§€λ¨

### 2. β… λ°μ΄ν„° λ¬΄κ²°μ„± ν™•λ³΄  
- JSON νμ‹± μ¤λ¥ μ‹ κΈ°λ³Έκ°’μΌλ΅ μ•μ „ν•κ² μ²λ¦¬
- νƒ€μ… κ²€μ¦μΌλ΅ λ°νƒ€μ„ μ¤λ¥ λ°©μ§€
- νλΌλ―Έν„° λ„λ½ μ‹μ—λ„ μ‹μ¤ν… μ•μ •μ„± μ μ§€

### 3. β… μ‹¤μ‹κ°„ κ±°λ νΈν™μ„±
- μ €μ¥λ νλΌλ―Έν„°κ°€ μ •ν™•ν λ°±ν…μ¤ν… μ—”μ§„μ— μ „λ‹¬λ¨
- UI νΈμ§‘ λ‚΄μ©μ΄ μ‹¤μ  κ±°λ λ΅μ§κ³Ό μ™„μ „ν μΌμΉ
- νλΌλ―Έν„° λ³€κ²½ μ‚¬ν•­μ΄ μ¦‰μ‹ λ°μλμ–΄ κ±°λ μ „λµμ— μ μ©λ¨

## π“ ν–¥ν›„ κ³ λ„ν™” λ°©μ•

### 1. νλΌλ―Έν„° κ²€μ¦ κ°•ν™”
- νλΌλ―Έν„° λ²”μ„ κ²€μ¦ (μ: SMA κΈ°κ°„ 1~200μΌ)
- μƒνΈ μμ΅΄μ„± κ²€μ¦ (μ: MACD fast < slow)
- κ²½κ³  λ©”μ‹μ§€ ν‘μ‹ κΈ°λ¥

### 2. νλΌλ―Έν„° νμ¤ν† λ¦¬ κ΄€λ¦¬
- νλΌλ―Έν„° λ³€κ²½ μ΄λ ¥ μ €μ¥
- μ΄μ „ μ„¤μ •μΌλ΅ λ΅¤λ°± κΈ°λ¥
- μ„±κ³Ό κΈ°λ° νλΌλ―Έν„° μ¶”μ²

### 3. λ°°μΉ νλΌλ―Έν„° κ΄€λ¦¬
- μ—¬λ¬ νΈλ¦¬κ±° λ™μ‹ νλΌλ―Έν„° μμ •
- νλΌλ―Έν„° ν…ν”λ¦Ώ μ‹μ¤ν…
- νλΌλ―Έν„° κ°€μ Έμ¤κΈ°/λ‚΄λ³΄λ‚΄κΈ° κΈ°λ¥

## π“‹ κ²°λ΅ 

β… **μ£Όμ” μ„±κ³Ό**:
- νΈλ¦¬κ±° νΈμ§‘ μ‹ νλΌλ―Έν„° μ™„μ „ λ³µμ› κµ¬ν„
- 20μΌ vs 60μΌ SMA κ³¨λ“ ν¬λ΅μ¤ μ •ν™•μ„± ν™•λ³΄  
- MACD νλΌλ―Έν„° μ •λ°€ λ³µμ› μ™„λ£
- νƒ€μ… μ•μ „μ„± λ° μ¤λ¥ μ²λ¦¬ κ°•ν™”

β… **μ‹μ¤ν… μ•μ •μ„± ν–¥μƒ**:
- UIμ™€ DB κ°„ νλΌλ―Έν„° λ™κΈ°ν™” μ™„λ£
- JSON νμ‹± μ¤λ¥μ— λ€ν• λ³µμ›λ ¥ ν™•λ³΄
- λ°νƒ€μ„ νƒ€μ… μ¤λ¥ μ‚¬μ „ λ°©μ§€

π― **λ°±ν…μ¤ν… λ° μ‹¤κ±°λ μ¤€λΉ„ μ™„λ£**:
- μ €μ¥λ νλΌλ―Έν„°κ°€ μ •ν™•ν κ±°λ μ—”μ§„μ— μ „λ‹¬λ¨
- κ³¨λ“ ν¬λ΅μ¤ μ΅°κ±΄(20μΌ > 60μΌ)μ΄ λ¨λ“  κ³„μΈµμ—μ„ μΌμΉ
- μ‹¤μ‹κ°„ κ±°λ μ‹ νλΌλ―Έν„° λ¶μΌμΉ μ„ν— μ κ±°

π’΅ **μ‚¬μ©μ κ²½ν— κ°μ„ **:
- νΈλ¦¬κ±° νΈμ§‘ μ‹ μ„¤μ •ν–λ νλΌλ―Έν„° κ°’ κ·Έλ€λ΅ ν‘μ‹
- νλΌλ―Έν„° μ¬μ„¤μ • λ¶ν•„μ”λ΅ νΈμμ„± λ€ν­ ν–¥μƒ
- μ‹¤μλ΅ μΈν• νλΌλ―Έν„° λ³€κ²½ μ„ν— μµμ†ν™”

**μ΄μ  μ™Έλ¶€λ³€μμ κΈ°κ°„ μ •λ³΄(20μΌλ΄‰, 60μΌλ΄‰)κ°€ μ™„λ²½ν•κ² μ μ§€λμ–΄ λ°±ν…μ¤ν…κ³Ό μ‹¤μ‹κ°„κ±°λμ—μ„ μ •μƒμ μΌλ΅ μ‘λ™ν•  μ¤€λΉ„κ°€ μ™„λ£λμ—μµλ‹λ‹¤.**
