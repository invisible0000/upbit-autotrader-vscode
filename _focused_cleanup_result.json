{
  "timestamp": "2025-08-15T23:24:49.076554",
  "scope": "focused_analysis_excluding_venv",
  "folder_analysis": {
    "data_info/indicators": {
      "exists": true,
      "description": "SMA만 남은 구 지표 폴더",
      "file_count": 4,
      "folder_count": 2,
      "total_size_kb": 18
    },
    "data_info/tv_variable_help_guides": {
      "exists": true,
      "description": "구 도움말 가이드",
      "file_count": 2,
      "folder_count": 1,
      "total_size_kb": 16
    },
    "data_info/_archived": {
      "exists": true,
      "description": "이미 아카이브된 파일들",
      "file_count": 9,
      "folder_count": 0,
      "total_size_kb": 111
    },
    "legacy": {
      "exists": true,
      "description": "레거시 코드들",
      "file_count": 10,
      "folder_count": 3,
      "total_size_kb": 345
    }
  },
  "db_analysis": {
    "data/settings.sqlite3": {
      "total_tables": 23,
      "table_info": {
        "cfg_app_settings": 5,
        "cfg_system_settings": 4,
        "sys_backup_info": 0,
        "tv_trading_variables": 28,
        "tv_variable_parameters": 45,
        "tv_help_texts": 26,
        "tv_placeholder_texts": 20,
        "tv_indicator_categories": 9,
        "tv_parameter_types": 8,
        "tv_comparison_groups": 8,
        "tv_indicator_library": 12,
        "tv_schema_version": 1,
        "tv_workflow_guides": 0,
        "cfg_chart_layout_templates": 0,
        "tv_chart_variables": 0,
        "tv_variable_compatibility_rules": 0,
        "tv_variable_usage_logs": 0,
        "trading_conditions": 5,
        "component_strategy": 0,
        "strategy_execution": 0,
        "strategy_components": 0,
        "secure_keys": 3,
        "tv_variable_help_documents": 11
      },
      "essential_found": [
        "tv_trading_variables",
        "tv_variable_parameters",
        "tv_help_texts",
        "tv_placeholder_texts",
        "tv_variable_help_documents"
      ],
      "optional_tables": [
        "cfg_app_settings",
        "cfg_system_settings",
        "sys_backup_info",
        "tv_indicator_categories",
        "tv_parameter_types",
        "tv_comparison_groups",
        "tv_indicator_library",
        "tv_schema_version",
        "tv_workflow_guides",
        "cfg_chart_layout_templates",
        "tv_chart_variables",
        "tv_variable_compatibility_rules",
        "tv_variable_usage_logs",
        "trading_conditions",
        "component_strategy",
        "strategy_execution",
        "strategy_components",
        "secure_keys"
      ],
      "missing_essential": [
        "api_keys",
        "user_settings"
      ]
    },
    "data/strategies.sqlite3": {
      "total_tables": 8,
      "table_info": {
        "component_strategy": 0,
        "execution_history": 0,
        "strategies": 0,
        "trading_conditions": 12,
        "user_triggers": 0,
        "user_strategies": 0,
        "event_store": 16,
        "event_processing_log": 4
      },
      "essential_found": [],
      "optional_tables": [
        "component_strategy",
        "execution_history",
        "strategies",
        "trading_conditions",
        "user_triggers",
        "user_strategies",
        "event_store",
        "event_processing_log"
      ],
      "missing_essential": []
    },
    "data/market_data.sqlite3": {
      "total_tables": 0,
      "table_info": {},
      "essential_found": [],
      "optional_tables": [],
      "missing_essential": []
    }
  },
  "import_analysis": {},
  "cleanup_plan": {
    "step1_fix_imports": {
      "description": "레거시 import 구문 수정",
      "files_to_fix": 0,
      "required": false
    },
    "step2_backup_legacy_folders": {
      "description": "레거시 폴더 백업",
      "folders": [
        "data_info/indicators",
        "data_info/tv_variable_help_guides",
        "data_info/_archived",
        "legacy"
      ],
      "total_files": 25
    },
    "step3_cleanup_database": {
      "description": "데이터베이스 선택적 테이블 정리",
      "databases": [
        {
          "db": "data/settings.sqlite3",
          "optional_tables": [
            "cfg_app_settings",
            "cfg_system_settings",
            "sys_backup_info",
            "tv_indicator_categories",
            "tv_parameter_types",
            "tv_comparison_groups",
            "tv_indicator_library",
            "tv_schema_version",
            "tv_workflow_guides",
            "cfg_chart_layout_templates",
            "tv_chart_variables",
            "tv_variable_compatibility_rules",
            "tv_variable_usage_logs",
            "trading_conditions",
            "component_strategy",
            "strategy_execution",
            "strategy_components",
            "secure_keys"
          ],
          "keep_essential": [
            "tv_trading_variables",
            "tv_variable_parameters",
            "tv_help_texts",
            "tv_placeholder_texts",
            "tv_variable_help_documents"
          ]
        },
        {
          "db": "data/strategies.sqlite3",
          "optional_tables": [
            "component_strategy",
            "execution_history",
            "strategies",
            "trading_conditions",
            "user_triggers",
            "user_strategies",
            "event_store",
            "event_processing_log"
          ],
          "keep_essential": []
        }
      ]
    },
    "step4_remove_legacy_folders": {
      "description": "백업 완료 후 레거시 폴더 삭제",
      "safe_to_remove": [
        "data_info/indicators",
        "data_info/tv_variable_help_guides"
      ]
    }
  }
}