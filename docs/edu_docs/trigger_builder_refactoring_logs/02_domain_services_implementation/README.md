# 📚 도메인 서비스 구현 교육 자료

> **목적**: TASK-20250803-02 기반 도메인 서비스 구현 학습  
> **대상**: 중급 개발자, DDD 학습자  
> **갱신**: 2025-08-04

## 🎯 학습 목표

**실무 역량 습득**: 복잡한 비즈니스 로직을 도메인 서비스로 설계하고 구현하는 능력

### 핵심 성과
- 📊 **호환성 서비스**: 매매 변수 간 호환성 검증 시스템 구현
- 🔧 **평가 서비스**: 기존 시스템과 통합하는 트리거 평가 시스템 구현  
- 🧪 **테스트 전략**: 63개 단위 테스트로 검증하는 방법 습득

## 📋 문서 구성

### 1️⃣ [실무 경험](./01_domain_service_work_experience.md) ⭐⭐⭐
- **내용**: 실제 프로젝트 구현 과정과 의사결정
- **시간**: 20분 읽기
- **포커스**: 왜 이렇게 설계했는지, 어떤 문제를 해결했는지

### 2️⃣ [구현 가이드](./02_implementation_guide.md) ⭐⭐⭐⭐
- **내용**: 단계별 구현 방법과 코드 패턴
- **시간**: 30분 읽기 + 40분 실습
- **포커스**: 실제 코드 작성 방법과 패턴 활용

### 3️⃣ [문제해결 가이드](./03_troubleshooting_guide.md) ⭐⭐⭐
- **내용**: 자주 발생하는 문제와 해결책
- **시간**: 15분 읽기 + 필요시 참조
- **포커스**: 실무에서 마주치는 문제 해결

## 🚀 학습 로드맵

### 기본 과정 (1시간)
```
1. 실무 경험 읽기 → 전체 맥락 이해
2. 구현 가이드 핵심 패턴 실습 → 코드 작성 능력
3. 문제해결 가이드 스캔 → 트러블슈팅 준비
```

### 심화 과정 (+30분)
```
4. 실제 프로젝트에 패턴 적용
5. 테스트 코드 작성 및 실행
6. 성능 최적화 검토
```

## 🛠️ 실습 환경

### 빠른 시작
```powershell
# 1. 테스트 실행으로 현재 상태 확인
pytest tests/domain/services/ -v

# 2. 예상 결과: 63개 테스트 통과
# ================================= 63 passed in 0.12s =================================

# 3. 서비스 코드 위치 확인
ls upbit_auto_trading/domain/services/
```

### 실습 데이터
- **구현 파일**: `upbit_auto_trading/domain/services/`
- **테스트 파일**: `tests/domain/services/`
- **Value Objects**: `upbit_auto_trading/domain/value_objects/`

## 📊 실제 구현 성과

### TASK-20250803-02 완료 지표
- **🏗️ 구현**: StrategyCompatibilityService, TriggerEvaluationService, NormalizationService
- **🧪 검증**: 63개 단위 테스트 100% 통과
- **⚡ 성능**: UI 호환성 검증 752줄 → 310줄 도메인 서비스로 압축
- **🔄 통합**: 기존 시스템 100% 호환성 유지

### 비즈니스 가치
- **사용자**: 변수 조합 시 명확한 호환성 안내
- **개발자**: 중앙화된 비즈니스 로직으로 유지보수성 향상
- **시스템**: 테스트 가능한 구조로 안정성 확보

## 💡 핵심 학습 포인트

### 🎯 도메인 서비스의 본질
- **무상태**: 인스턴스 변수 없는 순수 함수형 접근
- **비즈니스 중심**: 기술적 관심사와 완전 분리
- **재사용성**: 여러 컨텍스트에서 활용 가능

### 🔧 실무 적용 전략
- **점진적 도입**: 복잡한 계산부터 서비스로 분리
- **어댑터 패턴**: 기존 시스템과의 호환성 유지
- **Value Object**: 복잡한 결과를 명확한 타입으로 표현

### 🚨 피해야 할 실수
- **과도한 서비스화**: 단순 로직까지 서비스로 만들기
- **상태 관리**: 도메인 서비스에 캐시나 상태 추가
- **기술적 관심사**: DB, UI 로직을 서비스에 포함

## ✅ 학습 검증 기준

### 기본 이해도
- [ ] 도메인 서비스 vs 애플리케이션 서비스 구분 가능
- [ ] 언제 도메인 서비스를 사용해야 하는지 판단 가능
- [ ] Value Object를 활용한 결과 표현 가능

### 실무 구현 능력
- [ ] 호환성 검증 서비스 구현 가능
- [ ] Strategy 패턴을 활용한 알고리즘 서비스 구현 가능
- [ ] 어댑터 패턴으로 기존 시스템과 통합 가능

### 품질 관리 능력
- [ ] 도메인 서비스 단위 테스트 작성 가능
- [ ] 순환 참조 문제 해결 가능
- [ ] 성능을 고려한 서비스 설계 가능

## 🔍 추가 학습 자료

### 프로젝트 내 관련 문서
- [DDD 아키텍처](../../../COMPONENT_ARCHITECTURE.md): 전체 아키텍처 이해
- [변수 호환성](../../../VARIABLE_COMPATIBILITY.md): 비즈니스 규칙 상세
- [개발 체크리스트](../../../DEV_CHECKLIST.md): 품질 검증 기준

### 실제 구현 참조
- `upbit_auto_trading/domain/services/strategy_compatibility_service.py`: 310줄
- `tests/domain/services/test_strategy_compatibility_service.py`: 21개 테스트
- `upbit_auto_trading/domain/value_objects/compatibility_rules.py`: Value Objects

## 🎪 시작하기

**첫 번째 단계**: [실무 경험](./01_domain_service_work_experience.md)을 읽고 전체 맥락을 파악하세요!

**실습 준비**: 터미널에서 `pytest tests/domain/services/ -v` 실행하여 현재 상태를 확인하세요.

---

**💡 핵심 메시지**: 도메인 서비스는 복잡한 비즈니스 로직을 단순하고 테스트 가능하게 만드는 강력한 도구입니다!
