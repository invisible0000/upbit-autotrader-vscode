# 트레이딩 지표 라이브러리
# ========================
# 통일된 ID 기반 딕셔너리 구조
# LLM 에이전트가 참조할 수 있는 표준 지표 정의집

trading_indicators:
  # === 모멘텀 지표 ===
  RSI:
    indicator_id: "RSI"
    display_name_ko: "RSI 지표"
    display_name_en: "Relative Strength Index"
    category: "momentum"
    chart_category: "subplot"
    description: "상승압력과 하락압력 간의 상대적 강도를 나타내는 모멘텀 지표"
    typical_range: "0-100"
    value_type: "percentage"
    calculation_method: "relative_strength"
    interpretation:
      overbought: "70 이상 (과매수)"
      oversold: "30 이하 (과매도)"
      neutral: "30-70 (중립)"
      signal_line: "50 (중간선)"
    common_periods: [14, 21, 9]
    default_parameters:
      period: 14
      timeframe: "포지션 설정 따름"
    trading_signals:
      - "RSI > 70: 매도 고려"
      - "RSI < 30: 매수 고려" 
      - "50선 돌파: 추세 변화 신호"
      - "다이버전스: 가격과 RSI 방향 불일치"

  STOCHASTIC:
    indicator_id: "STOCHASTIC"
    display_name_ko: "스토캐스틱"
    display_name_en: "Stochastic Oscillator"
    category: "momentum"
    chart_category: "subplot"
    description: "특정 기간 주가 변동 범위에서 현재 주가의 위치를 백분율로 표시"
    typical_range: "0-100"
    value_type: "percentage"
    calculation_method: "price_position"
    interpretation:
      overbought: "80 이상"
      oversold: "20 이하"
      neutral: "20-80"
    common_settings:
      k_period: 14
      d_period: 3
      smooth: 3
    default_parameters:
      k_period: 14
      d_period: 3
      timeframe: "포지션 설정 따름"
    trading_signals:
      - "%K가 %D 상향돌파: 매수 신호"
      - "%K가 %D 하향돌파: 매도 신호"
      - "80 이상에서 하락: 매도 신호"
      - "20 이하에서 상승: 매수 신호"

  MACD:
    indicator_id: "MACD"
    display_name_ko: "MACD 지표"
    display_name_en: "Moving Average Convergence Divergence"
    category: "momentum"
    chart_category: "subplot"
    description: "두 이동평균선 사이의 관계를 보여주는 모멘텀 및 추세 지표"
    typical_range: "무제한"
    value_type: "oscillator"
    calculation_method: "moving_average_difference"
    components:
      macd_line: "빠른선(12) - 느린선(26)"
      signal_line: "MACD의 9일 지수이동평균"
      histogram: "MACD - 시그널"
    default_parameters:
      fast_period: 12
      slow_period: 26
      signal_period: 9
      timeframe: "포지션 설정 따름"
    trading_signals:
      - "MACD > 시그널: 매수 신호"
      - "MACD < 시그널: 매도 신호"
      - "히스토그램 증가: 추세 강화"
      - "0선 돌파: 추세 변화"

  # === 추세 지표 ===
  SMA:
    indicator_id: "SMA"
    display_name_ko: "단순이동평균"
    display_name_en: "Simple Moving Average"
    category: "trend"
    chart_category: "overlay"
    description: "특정 기간 동안의 가격을 단순 평균한 추세 지표"
    typical_range: "가격 범위"
    value_type: "price"
    calculation_method: "simple_average"
    interpretation:
      trend_up: "가격 > SMA"
      trend_down: "가격 < SMA"
      sideways: "가격 ≈ SMA"
    common_periods: [5, 10, 20, 50, 100, 200]
    default_parameters:
      period: 20
      timeframe: "포지션 설정 따름"
    trading_signals:
      - "가격이 SMA 상향돌파: 매수 신호"
      - "가격이 SMA 하향돌파: 매도 신호"
      - "단기SMA > 장기SMA: 상승 추세"
      - "골든크로스/데드크로스 활용"

  EMA:
    indicator_id: "EMA"
    display_name_ko: "지수이동평균"
    display_name_en: "Exponential Moving Average"
    category: "trend"
    chart_category: "overlay"
    description: "최근 가격에 더 큰 가중치를 부여한 이동평균"
    typical_range: "가격 범위"
    value_type: "price"
    calculation_method: "exponential_average"
    interpretation:
      trend_up: "가격 > EMA, EMA 상승"
      trend_down: "가격 < EMA, EMA 하락"
      sideways: "가격과 EMA 혼재"
    common_periods: [9, 12, 21, 26, 50]
    default_parameters:
      period: 21
      timeframe: "포지션 설정 따름"
    trading_signals:
      - "가격이 EMA 돌파: 추세 변화"
      - "EMA 기울기: 추세 강도"
      - "다중 EMA 배열: 추세 확인"

  BOLLINGER_BAND:
    indicator_id: "BOLLINGER_BAND"
    display_name_ko: "볼린저 밴드"
    display_name_en: "Bollinger Bands"
    category: "volatility"
    chart_category: "overlay"
    description: "이동평균을 중심으로 표준편차를 이용한 변동성 지표"
    typical_range: "가격 범위"
    value_type: "price_band"
    calculation_method: "standard_deviation_band"
    components:
      upper_band: "중간선 + (표준편차 × 배수)"
      middle_line: "20일 단순이동평균"
      lower_band: "중간선 - (표준편차 × 배수)"
    interpretation:
      squeeze: "밴드 폭 축소 → 변동성 확대 예상"
      expansion: "밴드 폭 확대 → 높은 변동성"
      support_resistance: "상/하단 밴드가 지지/저항"
    default_parameters:
      period: 20
      std_dev: 2.0
      timeframe: "포지션 설정 따름"
    trading_signals:
      - "상단 밴드 터치: 과매수, 매도 고려"
      - "하단 밴드 터치: 과매도, 매수 고려"
      - "밴드 돌파: 강한 추세 신호"
      - "밴드 수축 → 확장: 큰 움직임 예상"

  # === 변동성 지표 ===
  ATR:
    indicator_id: "ATR"
    display_name_ko: "평균실제범위"
    display_name_en: "Average True Range"
    category: "volatility"
    chart_category: "subplot"
    description: "시장의 변동성을 측정하는 지표"
    typical_range: "0 이상"
    value_type: "volatility"
    calculation_method: "true_range_average"
    interpretation:
      high_volatility: "ATR 값이 높음"
      low_volatility: "ATR 값이 낮음"
      trend_strength: "ATR 증가 → 추세 강화"
    common_periods: [14, 21]
    default_parameters:
      period: 14
      timeframe: "포지션 설정 따름"
    trading_signals:
      - "ATR 증가: 변동성 확대, 추세 강화"
      - "ATR 감소: 변동성 축소, 횡보 가능성"
      - "손절/이익실현 기준점으로 활용"

  # === 거래량 지표 ===
  VOLUME_SMA:
    indicator_id: "VOLUME_SMA"
    display_name_ko: "거래량 이동평균"
    display_name_en: "Volume Simple Moving Average"
    category: "volume"
    chart_category: "subplot"
    description: "특정 기간 동안의 평균 거래량"
    typical_range: "거래량 단위"
    value_type: "volume"
    calculation_method: "volume_average"
    interpretation:
      volume_surge: "현재 거래량 > 평균 거래량"
      volume_dry: "현재 거래량 < 평균 거래량"
    common_periods: [20, 50]
    default_parameters:
      period: 20
      timeframe: "포지션 설정 따름"
    trading_signals:
      - "거래량 급증 + 가격 상승: 강한 상승"
      - "거래량 급증 + 가격 하락: 강한 하락"
      - "거래량 부족: 추세 약화 신호"

  # === 가격 지표 ===
  CURRENT_PRICE:
    indicator_id: "CURRENT_PRICE"
    display_name_ko: "현재가"
    display_name_en: "Current Price"
    category: "price"
    chart_category: "overlay"
    description: "실시간 현재 거래 가격"
    typical_range: "시장 가격"
    value_type: "price"
    calculation_method: "real_time"
    interpretation:
      price_change: "이전 대비 변화율"
      trend_position: "지지/저항 대비 위치"
    default_parameters:
      timeframe: "실시간"
    trading_signals:
      - "지지선 돌파: 매수 신호"
      - "저항선 돌파: 추가 상승 신호"
      - "주요 가격대 반응 관찰"

  # === 자본 지표 ===
  CASH_BALANCE:
    indicator_id: "CASH_BALANCE"
    display_name_ko: "현금 잔고"
    display_name_en: "Cash Balance"
    category: "capital"
    chart_category: "subplot"
    description: "계좌의 현금 보유량"
    typical_range: "통화 단위"
    value_type: "currency"
    calculation_method: "account_balance"
    interpretation:
      high_cash: "매수 여력 충분"
      low_cash: "매수 여력 부족"
    default_parameters:
      currency: "KRW"
      scope: "포지션제한"
    trading_signals:
      - "현금 비중 관리"
      - "매수 여력 확인"

  TOTAL_BALANCE:
    indicator_id: "TOTAL_BALANCE"
    display_name_ko: "총 자산"
    display_name_en: "Total Balance"
    category: "capital"
    chart_category: "subplot"
    description: "현금 + 보유 코인의 총 평가액"
    typical_range: "통화 단위"
    value_type: "currency"
    calculation_method: "total_asset_value"
    interpretation:
      portfolio_growth: "총 자산 증가"
      portfolio_decline: "총 자산 감소"
    default_parameters:
      currency: "KRW"
      scope: "계좌전체"
    trading_signals:
      - "포트폴리오 성과 추적"
      - "자산 배분 기준"

  # === 상태 지표 ===
  PROFIT_PERCENT:
    indicator_id: "PROFIT_PERCENT"
    display_name_ko: "수익률"
    display_name_en: "Profit Percentage"
    category: "state"
    chart_category: "subplot"
    description: "현재 포지션의 수익률"
    typical_range: "퍼센트"
    value_type: "percentage"
    calculation_method: "profit_calculation"
    interpretation:
      profitable: "수익률 > 0%"
      breakeven: "수익률 ≈ 0%"
      loss: "수익률 < 0%"
    default_parameters:
      calculation_method: "미실현"
      include_fees: "포함"
    trading_signals:
      - "목표 수익률 달성: 이익실현"
      - "손실 한계: 손절매"

# 지표 조합 패턴
indicator_combinations:
  # 추세 확인 조합
  trend_confirmation:
    pattern_id: "trend_confirmation"
    description: "추세 방향성 확인"
    indicators: ["SMA", "EMA", "MACD"]
    logic: "이동평균 배열 + MACD 신호"
    example: "가격 > SMA(20) > SMA(50) AND MACD > Signal"
    
  # 모멘텀 과열 확인
  momentum_overbought:
    pattern_id: "momentum_overbought"
    description: "과매수/과매도 확인"
    indicators: ["RSI", "STOCHASTIC"]
    logic: "복수 오실레이터 동조"
    example: "RSI > 70 AND Stoch %K > 80"
    
  # 변동성 돌파 전략
  volatility_breakout:
    pattern_id: "volatility_breakout"
    description: "변동성 돌파 포착"
    indicators: ["BOLLINGER_BAND", "ATR"]
    logic: "밴드 돌파 + 변동성 확인"
    example: "가격 > 볼린저 상단 AND ATR 증가"
    
  # 거래량 확인 전략
  volume_confirmation:
    pattern_id: "volume_confirmation"
    description: "거래량으로 신호 확인"
    indicators: ["CURRENT_PRICE", "VOLUME_SMA"]
    logic: "가격 움직임 + 거래량 뒷받침"
    example: "가격 상승 AND 거래량 > 평균거래량 * 1.5"

# 지표별 사용 난이도
difficulty_levels:
  beginner:
    indicators: ["SMA", "CURRENT_PRICE", "CASH_BALANCE"]
    description: "기본적이고 이해하기 쉬운 지표"
    
  intermediate:
    indicators: ["RSI", "MACD", "BOLLINGER_BAND", "VOLUME_SMA"]
    description: "일반적으로 사용되는 기술적 지표"
    
  advanced:
    indicators: ["STOCHASTIC", "ATR"]
    description: "고급 기술 분석 지표"

# 시장 상황별 추천 지표
market_condition_indicators:
  trending_market:
    description: "추세 시장"
    recommended: ["SMA", "EMA", "MACD"]
    avoid: ["RSI", "STOCHASTIC"]
    reason: "추세 지표가 더 효과적"
    
  sideways_market:
    description: "횡보 시장"
    recommended: ["RSI", "STOCHASTIC", "BOLLINGER_BAND"]
    avoid: ["이동평균 크로스오버"]
    reason: "오실레이터가 더 적합"
    
  volatile_market:
    description: "변동성 시장"
    recommended: ["ATR", "BOLLINGER_BAND"]
    avoid: ["단기 이동평균"]
    reason: "변동성 지표로 위험 관리"
