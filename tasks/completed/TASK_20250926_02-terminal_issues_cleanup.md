# 📋 TASK_20250926_02: 터미널 오류/워닝 정리 태스크

## 🎯 목적

**⚠️ 업데이트**: 핵심 DI 이슈들은 TASK_20250927_01로 분리됨

QAsync 마이그레이션 완료 후 남은 **마이너 워닝/최적화 이슈들**을 정리하여 시스템 완성도 향상

## � 태스크 범위 재조정

### 🔄 **TASK_20250927_01로 이관된 Critical 이슈들**

다음 이슈들은 **TASK_20250927_01: DI 시스템 구조적 완성**에서 처리:

- ❌ ~~ApplicationContext.is_registered 누락~~ → **TASK_20250927_01 Phase 1**
- ❌ ~~서비스 DI 주입 실패들 (5개)~~ → **TASK_20250927_01 Phase 2**
- ❌ ~~DatabaseHealthService.check_overall_health 누락~~ → **TASK_20250927_01 Phase 1**
- ❌ ~~API 키 설정 UI 불능~~ → **TASK_20250927_01 Phase 1**

### 🎯 **현재 태스크 집중 영역 (Low Priority 최적화)**

이 태스크는 **시스템 핵심 기능이 정상 동작한 후** 진행할 마이너 개선사항들:

### 1. Settings 화면 관련 워닝 (중요도: 하)

#### 1.1 ApiSettingsView 타입 불일치 메시지

- **워닝**: `ApiSettingsView가 올바른 타입이 아닙니다 (폴백 위젯 사용 중)`
- **영향**: 실제 기능에는 문제없음 (TASK_20250927_01 완료 후 자동 해결될 가능성)
- **우선순위**: 🟢 Low

### 2. WebSocket 이벤트 루프 바인딩 워닝 (중요도: 하)

#### 2.1 shutdown_event 루프 바인딩

- **워닝**: `shutdown_event가 다른 이벤트 루프에 바인딩됨, 새로 생성`
- **영향**: 자동으로 새로 생성하여 해결됨, 기능상 문제없음
- **우선순위**: 🟢 Low

### 3. aiohttp 세션 누수 (중요도: 하)

#### 3.1 Unclosed client session/connector

- **워닝**: `Unclosed client session`, `Unclosed connector`
- **영향**: 종료 시에만 발생, 메모리 누수 가능성 있으나 기능 영향 없음
- **우선순위**: 🟢 Low

## 🔄 작업 계획

**⚠️ 전제 조건**: TASK_20250927_01 (DI 시스템 구조적 완성) 완료 후 진행

### Phase 1: 로깅 메시지 정리 (우선순위: 낮음)

- [ ] **ApiSettingsView 타입 메시지 정리**: 워닝 메시지 개선 또는 제거
- [ ] **폴백 위젯 로깅 개선**: 더 명확한 상황 설명 메시지

### Phase 2: 자원 정리 최적화 (우선순위: 낮음)

- [ ] **aiohttp 세션 완전 정리**: AppKernel.shutdown()에서 세션 정리 강화
- [ ] **WebSocket 이벤트 루프 최적화**: shutdown_event 루프 바인딩 개선

### Phase 3: 성능 모니터링 (선택사항)

- [ ] **메모리 누수 모니터링**: aiohttp 세션 누수 추적 시스템
- [ ] **리소스 사용량 로깅**: 종료 시 리소스 정리 상태 상세 로깅

## 🎯 성공 기준 (조정됨)

**⚠️ 주요 목표는 TASK_20250927_01에서 달성**

이 태스크의 성공 기준:

- [ ] **WARNING 메시지 추가 감소**: 남은 워닝들 50% 이상 감소
- [ ] **로그 메시지 품질 향상**: 더 명확하고 유용한 메시지로 개선
- [ ] **리소스 정리 최적화**: 종료 시 완전한 리소스 해제
- [ ] **성능 영향 최소화**: 최적화 작업이 시스템 성능에 영향 주지 않음

## 💡 작업 원칙

- **기능 우선**: 현재 정상 동작하는 기능에 영향 주지 않기
- **점진적 개선**: 한 번에 하나씩 해결하여 안정성 확보
- **테스트 병행**: 각 수정 후 `run_desktop_ui.py` 동작 확인
- **문서화**: 수정 내용과 영향도 명확히 기록

## 📋 작업 상태

### 태스크 상태 변경 이력

- **생성일**: 2025-09-26
- **범위 조정일**: 2025-09-27
- **현재 상태**: **TASK_20250927_01 완료 대기** (의존 관계)
- **담당**: GitHub Copilot + 개발팀
- **예상 소요**: 1-2시간 (기존 2-3 작업 세션에서 단축)
- **우선순위**: 🟢 **Low** (기존 Medium에서 하향 조정)

### 의존 관계

- **선행 조건**: TASK_20250927_01 (DI 시스템 구조적 완성) 완료 ✅ 필수
- **후속 작업**: 없음 (시스템 완성도 향상 목적)

---

**📝 참고**: 이 태스크는 시스템 **핵심 기능 복구 후** 진행할 **마이너 개선사항들**입니다.

**🎯 우선순위**: TASK_20250927_01 (Critical) → TASK_20250926_02 (Low)
