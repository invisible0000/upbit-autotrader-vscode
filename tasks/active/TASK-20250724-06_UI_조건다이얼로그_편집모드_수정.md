# π― TASK-20250724-06: μ΅°κ±΄ λ‹¤μ΄μ–Όλ΅κ·Έ νΈμ§‘ λ¨λ“ μμ •

**π“… μ‹μ‘μΌ**: 2025-07-24 16:00  
**β° μμƒ μ†μ”μ‹κ°„**: 3-4μ‹κ°„  
**π·οΈ μΉ΄ν…κ³ λ¦¬**: UI  
**π‘¤ λ‹΄λ‹Ήμ**: Developer  
**π”— κ΄€λ ¨ μ΄μ**: νΈλ¦¬κ±° νΈμ§‘ λ¨λ“ 5κ°€μ§€ μ΄μ  

## π“‹ μ‘μ—… λ‚΄μ©

### π¨ μ΄μ 1: νΈλ¦¬κ±° νΈμ§‘ λ¨λ“ ν•΄μ  λ¬Έμ 
- β… ~~νΈμ§‘ λ¨λ“ μ§„μ…/ν•΄μ  λ©”μ»¤λ‹μ¦ λ¶„μ„~~ β†’ π”„ λ³µμ΅ν• νΈμ§‘ UIκ°€ κ³µκ°„μ„ μΆνλ” λ¬Έμ  λ°κ²¬
- β… ~~νΈμ§‘ λ¨λ“ ν•΄μ  λ²„νΌ κµ¬ν„~~ β†’ π”„ νΈμ§‘ κ΄€λ ¨ λ²„νΌλ“¤ μ κ±° μ™„λ£
- β… ~~νΈμ§‘ μƒνƒ μ΄κΈ°ν™” λ΅μ§ κµ¬ν„~~ β†’ π”„ νΈμ§‘ λ¨λ“ κ΄€λ ¨ λ³€μλ“¤ μ κ±° μ™„λ£  
- β… ~~νΈμ§‘ λ¨λ“ μ‹κ°μ  ν‘μ‹ κ°μ„ ~~ β†’ π”„ κ°„λ‹¨ν• νΈμ§‘-μ €μ¥ λ²„νΌ κµ¬ν„ ν•„μ”

### π“ μ΄μ 2: νλΌλ―Έν„° λ²”μ„ ν‘μ‹ λ¶€μ΅±  
- [x] νλΌλ―Έν„°λ³„ λ²”μ„λ¥Ό μ½¤ν©νΈν•κ² ν‘μ‹ (μ: "1-100")
- [x] μ…λ ¥ ν•„λ“ μ†μ— κ°„κ²°ν• λ²”μ„ ννΈ μ¶”κ°€
- [x] κ³µκ°„ ν¨μ¨μ„±μ„ μ„ν• μµμ† ν¬κΈ° λ²”μ„ ν‘μ‹
- [x] μ ν¨ν•μ§€ μ•μ€ κ°’ μ…λ ¥μ‹ κ²½κ³  ν‘μ‹

### π― μ΄μ 3: νλΌλ―Έν„° μ…λ ¥λ°•μ¤ μ„μΉ λ¬Έμ 
- [x] νλΌλ―Έν„° μ…λ ¥λ°•μ¤λ¥Ό μΆμΈ΅μΌλ΅ μ •λ ¬ν•μ—¬ μμ—°μ¤λ½κ² λ¶™μ΄κΈ°
- [x] μ°μΈ΅ λ°€λ¦° μ„¤λ…λ“¤μ„ μΆμΈ΅μΌλ΅ μ΄λ™ν•μ—¬ ν”„λ μ„ μλ¦Ό λ°©μ§€
- [x] λ μ΄μ•„μ›ƒ κ°„κ²© μµμ ν™”λ΅ μ „μ²΄ UI κ°μ„ 
- [x] μΌκ΄€λ μΆμΈ΅ μ •λ ¬ μ¤νƒ€μΌ μ μ©

### π”— μ΄μ 4: μ™Έλ¶€λ³€μ νλΌλ―Έν„° λ΅λ“ λ° ν‘μ‹ λ¬Έμ 
- [x] μ™Έλ¶€λ³€μ νλΌλ―Έν„° μ €μ¥/λ΅λ“ λ©”μ»¤λ‹μ¦ λ¶„μ„
- [x] νΈμ§‘ μ‹ μ™Έλ¶€λ³€μ νλΌλ―Έν„° λ³µμ› λ΅μ§ κµ¬ν„
- [x] νΈλ¦¬κ±° λ¦¬μ¤νΈμ—μ„ μ„ νƒν• νΈλ¦¬κ±°μ μƒμ„Έ μ •λ³΄μ— μ •ν™•ν• μ™Έλ¶€λ³€μ νλΌλ―Έν„° ν‘μ‹
- [x] μ™Έλ¶€λ³€μ νλΌλ―Έν„° κ°’ κ²€μ¦ κΈ°λ¥ μ¶”κ°€

### π“ μ΄μ 5: UI ν•κΈ€ν™” λ° μ™Έλ¶€λ³€μ κ΄€λ¦¬ λ°©μ‹ μ„¤λ…
- [x] "trigger details" β†’ "νΈλ¦¬κ±° μƒμ„Έμ •λ³΄"λ΅ λ³€κ²½
- [x] "Case Simulation" β†’ "μΌ€μ΄μ¤ μ‹λ®¬λ μ΄μ…"μΌλ΅ λ³€κ²½  
- [x] "test result chart" β†’ "ν…μ¤νΈ κ²°κ³Ό μ°¨νΈ"λ΅ λ³€κ²½
- [x] μ™Έλ¶€λ³€μ νλΌλ―Έν„° κ΄€λ¦¬ λ΅μ§ λ¬Έμ„ν™”
- [x] μ‚¬μ©μ κ°€μ΄λ“ μ‘μ„±
- [x] μ½”λ“ μ£Όμ„ κ°μ„ 

## π― μ™„λ£ κΈ°μ¤€
- β… ~~νΈμ§‘ λ¨λ“μ—μ„ μ •μƒμ μΌλ΅ ν•΄μ  κ°€λ¥~~ β†’ π”„ κ°„λ‹¨ν• νΈμ§‘-μ €μ¥ λ²„νΌ κµ¬ν„ ν•„μ”
- β… λ¨λ“  νλΌλ―Έν„°μ— μ½¤ν©νΈν• λ²”μ„ ν‘μ‹ ν™•μΈ (μ: "1-100")
- β… νλΌλ―Έν„° μ…λ ¥λ°•μ¤κ°€ μΆμΈ΅ μ •λ ¬λ΅ μμ—°μ¤λ½κ² λ¶™μ–΄μμ
- β… μ°μΈ΅ μ„¤λ…λ“¤μ΄ μΆμΈ΅ μ΄λ™ν•μ—¬ ν”„λ μ„ μλ¦Ό μ—†μ
- β… νΈμ§‘ μ‹ μ™Έλ¶€λ³€μ νλΌλ―Έν„°κ°€ μ •μƒ λ΅λ“
- β… νΈλ¦¬κ±° μƒμ„Έμ •λ³΄μ— μ •ν™•ν• μ™Έλ¶€λ³€μ νλΌλ―Έν„° ν‘μ‹
- β… UI ν•κΈ€ν™” μ™„λ£ (νΈλ¦¬κ±° μƒμ„Έμ •λ³΄, μΌ€μ΄μ¤ μ‹λ®¬λ μ΄μ…, ν…μ¤νΈ κ²°κ³Ό μ°¨νΈ)
- β… μ™Έλ¶€λ³€μ κ΄€λ¦¬ λ°©μ‹ λ¬Έμ„ μ™„μ„±
- β… λ³µμ΅ν• νΈμ§‘ λ¨λ“ UI μ½”λ“ μ κ±° μ™„λ£
- [ ] κ°„λ‹¨ν• νΈμ§‘-μ €μ¥ λ²„νΌ κµ¬ν„ **β† λ‹¤μ μ‘μ—…**
- [ ] μ‹¤μ  UIμ—μ„ λ¨λ“  λ³€κ²½μ‚¬ν•­ ν™•μΈ **β† μ‚¬μ©μ ν…μ¤νΈ ν•„μ”**

## π“ κ΄€λ ¨ νμΌ
- `upbit_auto_trading/ui/desktop/screens/strategy_management/components/condition_dialog.py`
- `upbit_auto_trading/ui/desktop/screens/strategy_management/components/parameter_widgets.py`
- `upbit_auto_trading/ui/desktop/screens/strategy_management/components/variable_definitions.py`

## π“ μ‘μ—… λ΅κ·Έ
### 2025-07-24 16:00 - μ‘μ—… λ“±λ΅
- 5κ°€μ§€ ν•µμ‹¬ μ΄μ μ‹λ³„ μ™„λ£
- μ‹¤μ  μ΄μ νμΌ κ²½λ΅ ν™•μΈ: `upbit_auto_trading/ui/desktop/screens/strategy_management/components/condition_dialog.py`
- μλ»λ λ κ±°μ‹ νμΌ μ‘μ—…μΌλ΅ μΈν• μ‹κ°„ λ‚­λΉ„ λ°©μ§€λ¥Ό μ„ν•΄ μ •ν™•ν• νμΌ νƒ€κ²ν… μ°μ„  μ‹¤μ‹

### 2025-07-24 16:15 - μ΄κΈ° λ¶„μ„ μ™„λ£  
**π¨ λ…Όλ¦¬μ  μ΄μƒν•¨ λ°κ²¬:**
1. **νΈμ§‘ λ¨λ“ ν•΄μ  λ©”μ„λ“ λ¶€μ¬**: `load_condition`μ—μ„ `edit_mode = True` μ„¤μ •μ€ μμΌλ‚ ν•΄μ  λ©”μ„λ“κ°€ μ΅΄μ¬ν•μ§€ μ•μ
2. **νλΌλ―Έν„° λ²”μ„ UI ν‘μ‹ μ—†μ**: `setRange`λ΅ λ²”μ„ μ„¤μ •μ€ ν•μ§€λ§ μ‚¬μ©μμ—κ² λ³΄μ΄λ” λ²”μ„ ν‘μ‹κ°€ μ—†μ  
3. **μμ–΄ UI μ”μ΅΄**: `integrated_condition_manager.py`μ— "Trigger Details", "Case Simulation" λ“± μμ–΄ ν…μ¤νΈ λ°κ²¬
4. **μ™Έλ¶€λ³€μ νλΌλ―Έν„° ν‘μ‹**: `show_trigger_details` λ©”μ„λ“μ—μ„ μ™Έλ¶€λ³€μ νλΌλ―Έν„° ν‘μ‹ λ΅μ§ κ²€ν†  ν•„μ”

### 2025-07-24 16:30 - μ΄μ 1 μ™„λ£ β…
**νΈμ§‘ λ¨λ“ ν•΄μ  λ¬Έμ  ν•΄κ²°:**
- β… `create_edit_mode_buttons()` λ©”μ„λ“ μ¶”κ°€: νΈμ§‘ μ™„λ£/μ·¨μ†/μƒ μ΅°κ±΄ λ²„νΌ κµ¬ν„
- β… `update_edit_mode_ui()` λ©”μ„λ“ μ¶”κ°€: νΈμ§‘ λ¨λ“ μ‹κ°μ  ν‘μ‹ λ° μƒνƒ κ΄€λ¦¬
- β… `complete_edit_mode()` λ©”μ„λ“ μ¶”κ°€: νΈμ§‘ μ™„λ£ λ° μ €μ¥ μ²λ¦¬
- β… `cancel_edit_mode()` λ©”μ„λ“ μ¶”κ°€: νΈμ§‘ μ·¨μ† λ° ν™•μΈ λ‹¤μ΄μ–Όλ΅κ·Έ
- β… `start_new_condition()` λ©”μ„λ“ μ¶”κ°€: μƒ μ΅°κ±΄ μƒμ„± μ‹μ‘
- β… `exit_edit_mode()` λ©”μ„λ“ μ¶”κ°€: νΈμ§‘ λ¨λ“ μ™„μ „ ν•΄μ  λ° UI μ΄κΈ°ν™”
- β… `clear_all_inputs()` λ©”μ„λ“ μ¶”κ°€: λ¨λ“  μ…λ ¥ ν•„λ“ μ΄κΈ°ν™”

### 2025-07-24 16:45 - μ΄μ 2 μ™„λ£ β…
**νλΌλ―Έν„° λ²”μ„ ν‘μ‹ λ¬Έμ  ν•΄κ²°:**
- β… `_create_range_label()` λ©”μ„λ“ μ¶”κ°€: μ½¤ν©νΈν• λ²”μ„ ν‘μ‹ (int: "1-100", enum: "A/B/C")
- β… νλΌλ―Έν„° λ μ΄μ•„μ›ƒ κ°μ„ : λΌλ²¨ 80px, μ…λ ¥λ°•μ¤ 100px μµμ† ν­ μ„¤μ •
- β… λ²”μ„ λΌλ²¨ μ¤νƒ€μΌλ§: νμƒ‰ λ°°κ²½, λ‘¥κ·Ό λ¨μ„λ¦¬, μµλ€ 80px ν­ μ ν•
- β… `_validate_float_input()` λ©”μ„λ“ μ¶”κ°€: μ‹¤μ‹κ°„ float κ°’ μ ν¨μ„± κ²€μ¦
- β… μ ν¨μ„± κ²€μ¦ μ¤νƒ€μΌ: μ •μƒ(μ΄λ΅), κ²½κ³ (λΉ¨κ°•), μ¤λ¥(λΉ¨κ°•) μ‹κ°μ  ν‘μ‹

### 2025-07-24 17:00 - μ΄μ 3, 5 μ™„λ£ β…
**νλΌλ―Έν„° μ…λ ¥λ°•μ¤ μ„μΉ λ° UI ν•κΈ€ν™”:**
- β… μ΄μ 3μ€ μ΄μ 2μ—μ„ ν•¨κ» ν•΄κ²°λ¨ (μΆμΈ΅ μ •λ ¬, κ°„κ²© μµμ ν™”, ν”„λ μ„ μλ¦Ό λ°©μ§€)
- β… `integrated_condition_manager.py`μ—μ„ "Trigger Details" β†’ "νΈλ¦¬κ±° μƒμ„Έμ •λ³΄" λ³€κ²½
- β… `integrated_condition_manager.py`μ—μ„ "Case Simulation" β†’ "μΌ€μ΄μ¤ μ‹λ®¬λ μ΄μ…" λ³€κ²½
- β… `integrated_condition_manager.py`μ—μ„ "Test Results & Chart" β†’ "ν…μ¤νΈ κ²°κ³Ό μ°¨νΈ" λ³€κ²½

### 2025-07-24 17:15 - μ΄μ 4 μ™„λ£ β…
**μ™Έλ¶€λ³€μ νλΌλ―Έν„° λ΅λ“ λ° ν‘μ‹ λ¬Έμ  ν•΄κ²°:**
- β… μ™Έλ¶€λ³€μ νλΌλ―Έν„° ν‚¤ λ¶μΌμΉ λ¬Έμ  λ°κ²¬: μƒμ„± μ‹ `{var_id}_external`, λ³µμ› μ‹ `{var_id}` 
- β… `load_condition` λ©”μ„λ“μ—μ„ μ™Έλ¶€λ³€μ νλΌλ―Έν„° ν‚¤λ¥Ό `f"{ext_var_id}_external"`λ΅ μμ •
- β… `show_trigger_details` λ©”μ„λ“μ—μ„ μ™Έλ¶€λ³€μ νλΌλ―Έν„° ν‘μ‹ μ΄λ―Έ κµ¬ν„λ¨ ν™•μΈ
- β… μ™Έλ¶€λ³€μ νλΌλ―Έν„° λ³µμ› λ΅μ§μ΄ μ •μƒ λ™μ‘ν•λ„λ΅ μμ • μ™„λ£

### 2025-07-24 17:20 - μ΄μ 5 μ™„λ£ λ° μ „μ²΄ μ‘μ—… μ™„λ£ β…
**μ™Έλ¶€λ³€μ κ΄€λ¦¬ λ¬Έμ„ν™”:**
- β… `docs/EXTERNAL_VARIABLE_PARAMETER_MANAGEMENT.md` λ¬Έμ„ μ‘μ„±
- β… λ°μ΄ν„° κµ¬μ΅°, νλΌλ―Έν„° κ΄€λ¦¬ λ©”μ»¤λ‹μ¦, μ£Όμ” λ©”μ„λ“, μ£Όμμ‚¬ν•­ ν¬ν•¨
- β… μ½”λ“ μ°Έμ΅° μ„μΉ λ…μ‹λ΅ κ°λ°μ κ°€μ΄λ“ μ κ³µ

### 2025-07-24 18:30 - π”„ μ‘μ—… κ³„ν μμ • (μ‚¬μ©μ ν”Όλ“λ°±)
**μ‚¬μ©μ ν”Όλ“λ°±: λ³µμ΅ν• νΈμ§‘ λ¨λ“ UI λ¬Έμ **
- β κΈ°μ΅΄ νΈμ§‘ λ¨λ“ λ²„νΌλ“¤μ΄ μ΅°κ±΄μ •λ³΄μ™€ λ―Έλ¦¬λ³΄κΈ° μ‚¬μ΄μ— λ‚νƒ€λ‚ κ³µκ°„μ„ μΆν
- π”„ **μƒλ΅μ΄ μ”κµ¬μ‚¬ν•­**: νΈμ§‘ λ²„νΌμ„ λ„λ¥΄λ©΄ νλΌλ―Έν„°κ°€ λ΅λ“λκ³  νΈμ§‘ λ²„νΌ μμ²΄κ°€ μƒ‰μ΄ λ³€ν•λ©΄μ„ "νΈμ§‘ μ €μ¥"μΌλ΅ λ°”λ€λ” κ°„λ‹¨ν• UX
- β… λ³µμ΅ν• νΈμ§‘ λ¨λ“ UI μ½”λ“ μ κ±° μ™„λ£ (create_edit_mode_buttons, update_edit_mode_ui λ“±)
- β… νΈμ§‘ λ¨λ“ κ΄€λ ¨ λ³€μλ“¤ μ κ±° μ™„λ£ (edit_mode, edit_condition_id)
- β… μ™Έλ¶€λ³€μ νλΌλ―Έν„° ν‘μ‹ λ¬Έμ  μμ • μ™„λ£ (show_trigger_details λ©”μ„λ“)

## π― **μμ •λ μ‘μ—… μƒνƒ**
**μ›λ 5κ° μ΄μ β†’ μ‚¬μ©μ ν”Όλ“λ°± λ°μν• μƒλ΅μ΄ μ ‘κ·Ό:**
1. β… ~~νΈμ§‘ λ¨λ“ ν•΄μ  λ©”μ»¤λ‹μ¦ κµ¬ν„~~ β†’ π”„ λ³µμ΅ν• νΈμ§‘ UI μ κ±° λ° κ°„λ‹¨ν• νΈμ§‘-μ €μ¥ λ²„νΌ κµ¬ν„ ν•„μ”
2. β… νλΌλ―Έν„° μ½¤ν©νΈ λ²”μ„ ν‘μ‹ μ¶”κ°€  
3. β… νλΌλ―Έν„° μ…λ ¥λ°•μ¤ μΆμΈ΅ μ •λ ¬ λ° λ μ΄μ•„μ›ƒ μµμ ν™”
4. β… μ™Έλ¶€λ³€μ νλΌλ―Έν„° λ΅λ“ ν‚¤ λ¶μΌμΉ λ¬Έμ  μμ •
5. β… UI ν•κΈ€ν™” λ° μ™Έλ¶€λ³€μ κ΄€λ¦¬ λ¬Έμ„ν™”

## β οΈ μ¤‘μ” μ‚¬ν•­
- **μ‹¤μ  μ΄μ νμΌμ—μ„λ§ μ‘μ—…**: λ κ±°μ‹ νμΌ μμ • κΈμ§€
- **κ° μμ • ν›„ μ¦‰μ‹ UI ν…μ¤νΈ**: λ³€κ²½μ‚¬ν•­ μ‹¤μ‹κ°„ ν™•μΈ
- **μ‚¬μ©μ ν”Όλ“λ°± μ°μ„ **: "λ³€ν™”κ°€ μ—†λ‹¤"λ” ν”Όλ“λ°± μ‹ μ¦‰μ‹ μ¬κ²€ν† 

## π“ μ™Έλ¶€λ³€μ νλΌλ―Έν„° κ΄€λ¦¬ λ°©μ‹ μ„¤λ…

### π—οΈ λ°μ΄ν„° κµ¬μ΅°
μ™Έλ¶€λ³€μ νλΌλ―Έν„°λ” μ΅°κ±΄ λ°μ΄ν„°μ—μ„ λ‹¤μκ³Ό κ°™μ΄ μ €μ¥λ©λ‹λ‹¤:

```json
{
  "name": "μ΅°κ±΄λ…",
  "variable_id": "variable_name",
  "variable_params": {
    "period": 20,
    "threshold": 0.5
  },
  "external_variable_params": {
    "external_var_id_external": {
      "period": 14,
      "multiplier": 1.5
    }
  },
  "use_external_variable": true,
  "external_variable_id": "external_var_id"
}
```

### π”„ νλΌλ―Έν„° κ΄€λ¦¬ λ©”μ»¤λ‹μ¦

#### 1. νλΌλ―Έν„° μƒμ„± (condition_dialog.py)
- κΈ°λ³Έ λ³€μ νλΌλ―Έν„°: `variable_params` ν‚¤μ— μ €μ¥
- μ™Έλ¶€λ³€μ νλΌλ―Έν„°: `{external_variable_id}_external` ν‚¤λ΅ `external_variable_params`μ— μ €μ¥

#### 2. νλΌλ―Έν„° λ΅λ“ (condition_dialog.py)
- κΈ°λ³Έ λ³€μ νλΌλ―Έν„°: `variable_params`μ—μ„ λ΅λ“
- μ™Έλ¶€λ³€μ νλΌλ―Έν„°: `external_variable_params[f"{external_variable_id}_external"]`μ—μ„ λ΅λ“

#### 3. νλΌλ―Έν„° ν‘μ‹ (integrated_condition_manager.py)
- νΈλ¦¬κ±° μƒμ„Έμ •λ³΄μ—μ„ κΈ°λ³Έ λ³€μμ™€ μ™Έλ¶€λ³€μ νλΌλ―Έν„°λ¥Ό ν•¨κ» ν‘μ‹
- μ™Έλ¶€λ³€μ μ‚¬μ© μ—¬λ¶€μ™€ μ„ νƒλ μ™Έλ¶€λ³€μ μ •λ³΄λ„ ν¬ν•¨

### π― μ£Όμ” λ©”μ„λ“
- `load_condition()`: μ΅°κ±΄ νΈμ§‘ μ‹ νλΌλ―Έν„° λ³µμ›
- `collect_condition_data()`: μ΅°κ±΄ μ €μ¥ μ‹ νλΌλ―Έν„° μμ§‘
- `show_trigger_details()`: νΈλ¦¬κ±° μƒμ„Έμ •λ³΄ ν‘μ‹

### β οΈ μ£Όμμ‚¬ν•­
- μ™Έλ¶€λ³€μ νλΌλ―Έν„° ν‚¤λ” λ°λ“μ‹ `{λ³€μID}_external` ν•μ‹ μ‚¬μ©
- νλΌλ―Έν„° νƒ€μ… κ²€μ¦ λ° λ²”μ„ ν™•μΈ ν•„μ
- UI μ—…λ°μ΄νΈ μ‹ μ™Έλ¶€λ³€μ κ΄€λ ¨ μ„μ ― μƒνƒ λ™κΈ°ν™” ν•„μ”
