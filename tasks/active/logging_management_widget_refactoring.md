# 🔧 로깅 관리 UI 위젯 리팩토링
**Priority**: HIGH
**Status**: ACTIVE
**Created**: 2025-08-12 14:10
**Assignee**: GitHub Copilot

## 📋 **태스크 개요**
기존 로깅 관리 시스템을 올바른 위젯 구조로 리팩토링하여 설정 파일 기반으로 전환

## 🎯 **목표**
- [x] 문제 분석 완료
- [ ] 위젯 구조 리팩토링 (3개 위젯)
- [ ] 설정 파일 통합
- [ ] 레거시 파일 정리
- [ ] 테스트 및 검증

## 📐 **UI 구조**
```
┌─────────────┬───────────────────────────┐
│             │      로그 뷰어              │
│  로깅 설정   │    (우측 상단)             │
│  (좌측)     │                           │
│             ├───────────────────────────┤
│             │     콘솔 뷰어              │
│             │    (우측 하단)             │
└─────────────┴───────────────────────────┘
   비율 1:2       우측 내부 비율 2:1
```

## 📂 **작업 항목**

### Phase 1: 위젯 분리 (✅ 완료)
- [x] **1.1** `logging_settings_widget.py` 생성 - **완료**
  - [x] 로그 레벨 설정
  - [x] 콘솔 출력 토글
  - [x] 로그 스코프 설정
  - [x] 파일 로깅 설정
  - [x] 컴포넌트 집중 설정

- [x] **1.2** `log_viewer_widget.py` 생성 - **완료**
  - [x] 로그 메시지 표시 영역
  - [x] 자동 스크롤 기능
  - [x] 로그 필터링
  - [x] 로그 저장 기능

- [x] **1.3** `console_viewer_widget.py` 생성 - **완료**
  - [x] 콘솔 출력 표시 영역
  - [x] 실시간 콘솔 캡처
  - [x] 콘솔 내용 지우기

### Phase 2: 메인 뷰 통합 (✅ 완료)
- [x] **2.1** `logging_management_view.py` 수정 - **완료**
  - [x] 기존 파일 백업 (logging_management_view_backup.py)
  - [x] 3개 위젯 레이아웃 구성
  - [x] 스플리터 비율 설정 (1:2, 2:1)
  - [x] 위젯 간 시그널 연결

- [x] **2.2** MVP 패턴 Presenter 백업 및 재작성 - **완료**
  - [x] 기존 Presenter 백업 (logging_management_presenter_backup.py)
  - [x] Config 파일 기반 로직 구현
  - [x] 실시간 설정 적용
  - [x] 이벤트 핸들링

### Phase 3: UI 테스트 및 검증 (🔄 진행중)
- [x] **3.1** 통합 테스트 실행 - **✅ 파일 재작성 완료**
  - [x] 메인 View 파일 재작성 (DDD/MVP 패턴 엄격 준수)
  - [x] 메인 Presenter 파일 재작성 (Config 파일 기반)
  - [-] 메인 UI 실행 (`python run_desktop_ui.py`) - **🔄 테스트 준비**
  - [ ] 3-위젯 레이아웃 확인
  - [ ] 설정 변경 동작 확인
  - [ ] 사용자 승인 대기### Phase 3: 레거시 정리
- [ ] **3.1** 불필요 파일 제거
  - [ ] 환경변수 기반 코드 제거
  - [ ] LLM 관련 설정 제거
  - [ ] 사용하지 않는 위젯 정리

- [ ] **3.2** 코드 정리
  - [ ] Import 정리
  - [ ] 사용하지 않는 메서드 제거
  - [ ] 문서 업데이트

### Phase 4: 테스트 및 검증
- [ ] **4.1** 기능 테스트
  - [ ] 설정 변경 동작 확인
  - [ ] 파일 저장/로드 확인
  - [ ] UI 반응성 확인

- [ ] **4.2** 통합 테스트
  - [ ] 프로그램 재시작 후 설정 유지 확인
  - [ ] 프로파일 시스템과 연동 확인

## ⚠️ **위험 요소**
- 기존 로깅 시스템과의 호환성
- UI 프리징 방지
- 설정 파일 충돌 방지

## 📝 **작업 노트**
- 환경변수 → 설정 파일 기반으로 전환 중
- UI 프리징 문제 해결 필요
- 로그 파일 경로 하드코딩 문제 해결

## ✅ **완료 기준**
- [ ] 3개 위젯이 올바른 레이아웃으로 배치
- [ ] 설정 변경이 즉시 반영
- [ ] 프로그램 재시작 후 설정 유지
- [ ] UI 프리징 없음
- [ ] 레거시 코드 완전 제거
