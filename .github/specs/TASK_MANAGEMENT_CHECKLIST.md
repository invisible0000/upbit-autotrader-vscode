# ✅ 스펙 기반 태스크 관리 체크리스트

> **목적**: 효율적인 태스크 생성과 관리를 위한 빠른 참조 가이드
> **사용법**: 각 단계에서 해당 체크리스트를 확인하며 진행
> **관련 문서**: [SPEC_BASED_TASK_CREATION_GUIDE.md](./SPEC_BASED_TASK_CREATION_GUIDE.md), [TASK_TEMPLATES.md](./TASK_TEMPLATES.md)

## 🎯 태스크 생성 전 준비사항

### 스펙 문서 분석 체크리스트
- [ ] **요구사항 파악**: `.github/specs/[프로젝트]/requirements.md` 분석 완료
- [ ] **설계 이해**: `.github/specs/[프로젝트]/design.md` 검토 완료
- [ ] **기존 진행상황**: `.github/specs/[프로젝트]/tasks.md` 현황 파악
- [ ] **의존성 확인**: 선행 태스크 및 블로킹 요소 식별
- [ ] **우선순위 설정**: P0(Critical) ~ P3(Low) 분류 완료

### 프로젝트 컨텍스트 확인
- [ ] **아키텍처 패턴**: DDD + MVP 패턴 이해
- [ ] **기술 스택**: PyQt6, Infrastructure Layer v4.0 확인
- [ ] **데이터베이스**: 3-DB 구조 (settings, strategies, market_data) 이해
- [ ] **스타일 시스템**: 전역 QSS 테마 시스템 확인
- [ ] **로깅 표준**: Infrastructure Layer 로깅 시스템 적용

## 📋 태스크 작성 체크리스트

### 기본 정보 섹션
- [ ] **제목**: 명확하고 구체적인 태스크 제목 작성
- [ ] **목적**: 해결하려는 문제와 목표를 명확히 기술
- [ ] **배경**: 현재 상황과 문제점을 구체적으로 설명
- [ ] **우선순위**: P0-P3 중 적절한 레벨 할당
- [ ] **복잡도**: XS(1-2h) ~ XL(1주+) 중 현실적 추정

### 수용 기준 (Acceptance Criteria)
- [ ] **WHEN-THEN 구조**: 조건과 기대결과가 명확히 정의됨
- [ ] **측정 가능**: 완료 여부를 객관적으로 판단 가능
- [ ] **테스트 가능**: 자동 또는 수동으로 검증 가능
- [ ] **포괄적**: 모든 주요 시나리오 커버
- [ ] **현실적**: 달성 가능한 수준으로 설정

### 구현 계획 섹션
- [ ] **단계별 분할**: 복잡한 작업을 작은 단위로 분할
- [ ] **순서 논리**: 각 단계의 의존성과 순서가 논리적
- [ ] **파일 명시**: 수정할 구체적 파일 경로 제시
- [ ] **시간 추정**: 각 세부 작업의 예상 소요 시간
- [ ] **체크박스**: 진행상황 추적이 가능한 체크리스트

### 기술적 요구사항
- [ ] **DDD 준수**: Domain-Application-Infrastructure 계층 구분
- [ ] **MVP 패턴**: View(Passive) - Presenter(Logic) 분리
- [ ] **파일 경로**: 프로젝트 구조에 맞는 정확한 경로
- [ ] **Import 구조**: 기존 코드베이스와 일관된 import 패턴
- [ ] **명명 규칙**: 기존 네이밍 컨벤션 준수

## 🔧 태스크 실행 중 체크리스트

### 개발 세션 시작
- [ ] **환경 설정**: PowerShell 환경에서 작업
- [ ] **로깅 활성화**: `$env:UPBIT_CONSOLE_OUTPUT='true'` 설정
- [ ] **컴포넌트 포커스**: `$env:UPBIT_COMPONENT_FOCUS='[컴포넌트명]'` 설정 (필요시)
- [ ] **현재 상태 확인**: `python run_desktop_ui.py` 실행하여 기준선 설정
- [ ] **Git 상태**: 깨끗한 working directory에서 시작

### 코드 작성 중
- [ ] **Infrastructure 로깅**: `create_component_logger` 사용
- [ ] **에러 처리**: Domain Exception 명확히 전파 (폴백 코드 금지)
- [ ] **전역 스타일**: 하드코딩된 스타일 대신 objectName 활용
- [ ] **타입 힌트**: 모든 함수와 메서드에 타입 힌트 추가
- [ ] **PEP 8**: 79자 제한, 네이밍 컨벤션 준수

### 중간 검증
- [ ] **컴파일 확인**: 구문 오류 및 import 오류 해결
- [ ] **로깅 출력**: Infrastructure Layer 로깅이 정상 작동
- [ ] **UI 렌더링**: PyQt6 위젯이 올바르게 표시됨
- [ ] **데이터 흐름**: Model-View-Presenter 간 데이터 전달 확인
- [ ] **메모리 누수**: 위젯 삭제 시 이벤트 연결 해제

## ✅ 태스크 완료 검증 체크리스트

### 기능 검증
- [ ] **모든 수용 기준**: WHEN-THEN 조건이 모두 만족됨
- [ ] **에러 케이스**: 예상되는 오류 상황에서 적절히 처리
- [ ] **경계 조건**: 최솟값, 최댓값, null 등 경계 케이스 테스트
- [ ] **사용자 시나리오**: 실제 사용 시나리오에서 정상 작동
- [ ] **반응형**: 다양한 창 크기와 화면 해상도에서 확인

### 코드 품질 검증
- [ ] **DDD 아키텍처**: 계층 간 의존성 방향 준수
- [ ] **MVP 패턴**: View는 Passive, Presenter가 비즈니스 로직 담당
- [ ] **단일 책임**: 각 클래스와 함수가 하나의 명확한 책임
- [ ] **가독성**: 의미 있는 변수명, 함수명, 클래스명 사용
- [ ] **중복 제거**: DRY 원칙 준수, 공통 로직 추출

### 통합 검증
- [ ] **DB 연동**: 3-DB 구조와 올바르게 연동
- [ ] **설정 시스템**: YAML 기반 설정 파일 정상 처리
- [ ] **로깅 통합**: Infrastructure Layer 로깅 시스템 통합
- [ ] **전역 스타일**: QSS 테마 시스템과 일관된 스타일링
- [ ] **전체 시스템**: `python run_desktop_ui.py` 정상 실행

### 문서 및 정리
- [ ] **코드 주석**: 복잡한 로직에 대한 설명 주석 추가
- [ ] **TODO 정리**: 임시 TODO 주석 제거 또는 이슈 등록
- [ ] **Import 정리**: 사용하지 않는 import 제거
- [ ] **테스트 코드**: 주요 기능에 대한 테스트 코드 작성 (권장)
- [ ] **문서 업데이트**: 필요시 관련 문서 업데이트

## 🔄 진행상황 추적 체크리스트

### 작업 세션 관리
- [ ] **세션 시작**: 작업 세션 로그에 시작 시간과 목표 기록
- [ ] **중간 체크포인트**: 주요 마일스톤마다 진행상황 업데이트
- [ ] **블로커 기록**: 발견된 문제점이나 장애물 즉시 기록
- [ ] **세션 종료**: 완료 항목, 다음 계획, 소요 시간 기록
- [ ] **체크박스 업데이트**: `[ ]` → `[-]` → `[X]` 상태 관리

### 상태 코드 활용
- [ ] **`[ ]` (미시작)**: 아직 시작하지 않은 작업
- [ ] **`[-]` (진행중)**: 현재 작업 중인 항목
- [ ] **`[X]` (완료)**: 완료되고 검증된 작업
- [ ] **`[!]` (문제발생)**: 이슈가 발견된 작업
- [ ] **`[?]` (검토필요)**: 검토나 의사결정이 필요한 작업
- [ ] **`[S]` (일시중단)**: 다른 의존성으로 인해 중단된 작업

## 🚀 태스크 완료 후 체크리스트

### 최종 검증
- [ ] **전체 시스템**: `python run_desktop_ui.py` 완전 무결성 검증
- [ ] **회귀 테스트**: 기존 기능에 영향 없음 확인
- [ ] **성능 확인**: 메모리 사용량, 응답 시간 등 성능 지표
- [ ] **사용성 검증**: 실제 사용자 관점에서 기능 검증
- [ ] **문서 동기화**: 변경사항이 관련 문서에 반영됨

### 정리 및 아카이브
- [ ] **작업 완료 시간**: 실제 소요 시간과 예상 시간 비교 기록
- [ ] **교훈 및 개선점**: 다음 태스크를 위한 교훈 정리
- [ ] **완료 태스크 이동**: `tasks/completed/[YYYY-MM]/` 폴더로 이동
- [ ] **다음 우선순위**: 연관된 다음 태스크 식별 및 준비
- [ ] **스펙 업데이트**: 해당 스펙 폴더의 tasks.md 상태 업데이트

### 지식 공유
- [ ] **성공 패턴**: 잘 작동한 접근법과 패턴 문서화
- [ ] **실패 요인**: 시행착오와 해결 과정 기록
- [ ] **재사용 가능 요소**: 다른 태스크에서 활용 가능한 코드/패턴 식별
- [ ] **템플릿 개선**: 태스크 템플릿 개선 제안사항 기록
- [ ] **프로세스 피드백**: 태스크 관리 프로세스 개선점 제안

## 🎯 품질 기준별 체크리스트

### DDD 아키텍처 준수 (필수)
- [ ] **Domain Layer**: 외부 의존성 없는 순수 비즈니스 로직
- [ ] **Application Layer**: Use Case 구현, Domain과 Infrastructure 연결
- [ ] **Infrastructure Layer**: 외부 시스템 연동, Repository 구현
- [ ] **Presentation Layer**: UI 컴포넌트, Passive View 패턴
- [ ] **의존성 방향**: Presentation → Application → Domain ← Infrastructure

### PyQt6 UI 표준 (필수)
- [ ] **전역 스타일**: `common/styles/` 시스템 사용
- [ ] **objectName**: 표준 네이밍 컨벤션 준수
- [ ] **하드코딩 금지**: setStyleSheet() 직접 사용 금지
- [ ] **테마 호환**: 라이트/다크 테마 자동 전환 지원
- [ ] **차트 테마**: matplotlib 차트에 테마 적용

### Infrastructure v4.0 표준 (필수)
- [ ] **로깅 시스템**: `create_component_logger` 사용
- [ ] **환경 변수**: `UPBIT_CONSOLE_OUTPUT`, `UPBIT_LOG_SCOPE` 활용
- [ ] **컴포넌트 포커스**: `UPBIT_COMPONENT_FOCUS` 지원
- [ ] **에러 투명성**: 폴백 코드 없이 에러 명확히 전파
- [ ] **설정 관리**: YAML 기반 중앙 집중 설정

## 💡 자주 확인해야 할 핵심 포인트

### 🚨 절대 하지 말아야 할 것들
- [ ] **에러 숨김**: try-except로 Domain Exception 무시
- [ ] **하드코딩 스타일**: setStyleSheet() 직접 사용
- [ ] **레거시 참조**: app_settings.sqlite3, *.db 파일 언급
- [ ] **파일명 불일치**: 기존 파일 교체 시 연속성 파괴
- [ ] **Unix 명령어**: PowerShell 환경에서 bash 명령어 사용

### ✅ 반드시 지켜야 할 것들
- [ ] **7규칙 전략**: 모든 개발은 기본 7규칙 전략 완전 구현 목표
- [ ] **PowerShell 전용**: Windows 환경, PowerShell 명령어만 사용
- [ ] **3-DB 아키텍처**: settings.sqlite3, strategies.sqlite3, market_data.sqlite3
- [ ] **파일명 일관성**: 기존 기능 교체 시 원래 이름 유지
- [ ] **최종 검증**: `python run_desktop_ui.py`로 시스템 무결성 확인

---

## 📚 빠른 참조 링크

### 핵심 문서
- **태스크 가이드**: [SPEC_BASED_TASK_CREATION_GUIDE.md](./SPEC_BASED_TASK_CREATION_GUIDE.md)
- **템플릿 모음**: [TASK_TEMPLATES.md](./TASK_TEMPLATES.md)
- **프로젝트 명세**: [PROJECT_SPECIFICATIONS.md](../PROJECT_SPECIFICATIONS.md)

### 아키텍처 문서
- **핵심 아키텍처**: `docs/CORE_ARCHITECTURE.md`
- **UI 테마 시스템**: `docs/UI_THEME_SYSTEM.md`
- **운영 시스템**: `docs/OPERATIONAL_SYSTEM.md`

### 스타일 가이드
- **DDD 용어집**: `docs/DDD_UBIQUITOUS_LANGUAGE_DICTIONARY.md`
- **에러 처리**: `docs/ERROR_HANDLING_POLICY.md`
- **코딩 스타일**: `docs/STYLE_GUIDE.md`

---

**🎯 이 체크리스트를 단계별로 따라가면 고품질의 태스크 관리가 가능합니다!**
**💡 의심스러울 때는 7규칙 전략 검증, DDD 원칙 준수, 에러 투명성 유지를 기억하세요!**
