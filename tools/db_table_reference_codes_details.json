{
  "analysis_info": {
    "total_tables": 21,
    "analyzed_tables": 3,
    "total_files": 252,
    "suspect_tables": [
      "tv_trading_variables",
      "tv_variable_parameters",
      "trading_conditions"
    ],
    "analyzer_version": "Super_v5.0_precise",
    "total_references_found": 120
  },
  "table_references": {
    "tv_trading_variables": {
      "upbit_auto_trading\\config\\database_paths.py": [
        {
          "line_number": 71,
          "line_content": "'tv_trading_variables': 'settings.sqlite3',",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 261,
          "line_content": "test_tables = ['trading_conditions', 'strategies', 'tv_trading_variables', 'market_data']",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\ui\\desktop\\screens\\strategy_management\\trigger_builder\\components\\core\\variable_definitions.py": [
        {
          "line_number": 74,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 126,
          "line_content": "JOIN tv_trading_variables tv ON vp.variable_id = tv.variable_id",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\ui\\desktop\\screens\\strategy_management\\trigger_builder\\components\\shared\\compatibility_validator.py": [
        {
          "line_number": 74,
          "line_content": "db_path = get_db_path('tv_trading_variables')",
          "match_type": "quoted_strings_pattern",
          "table_name": "tv_trading_variables",
          "pattern": "[\"\\']tv_trading_variables[\"\\']",
          "operation_type": "reference"
        },
        {
          "line_number": 95,
          "line_content": "cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table' AND name='tv_trading_variables'\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 98,
          "line_content": "self.db_error_message = f\"필수 테이블 'tv_trading_variables'가 없습니다: {self.db_path}\"",
          "match_type": "quoted_strings_pattern",
          "table_name": "tv_trading_variables",
          "pattern": "[\"\\']tv_trading_variables[\"\\']",
          "operation_type": "reference"
        },
        {
          "line_number": 101,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_trading_variables WHERE is_active = 1\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 141,
          "line_content": "cursor.execute(\"SELECT name FROM sqlite_master WHERE type='table' AND name='tv_trading_variables'\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 143,
          "line_content": "self.logger.error(f\"필수 테이블 'tv_trading_variables'가 존재하지 않습니다: {self.db_path}\")",
          "match_type": "quoted_strings_pattern",
          "table_name": "tv_trading_variables",
          "pattern": "[\"\\']tv_trading_variables[\"\\']",
          "operation_type": "reference"
        },
        {
          "line_number": 240,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 279,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 368,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 380,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 477,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 521,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 653,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\utils\\global_db_manager.py": [
        {
          "line_number": 166,
          "line_content": "'tv_trading_variables': 'settings',",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\migrate_db.py": [
        {
          "line_number": 234,
          "line_content": "'tv_trading_variables',",
          "match_type": "quoted_strings_pattern",
          "table_name": "tv_trading_variables",
          "pattern": "[\"\\']tv_trading_variables[\"\\']",
          "operation_type": "reference"
        },
        {
          "line_number": 260,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_trading_variables WHERE is_active = 1\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 268,
          "line_content": "cursor.execute(\"SELECT purpose_category, COUNT(*) FROM tv_trading_variables GROUP BY purpose_category\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\sync_db_to_code.py": [
        {
          "line_number": 83,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 185,
          "line_content": "📝 **편집하려면**: data/app_settings.sqlite3의 tv_trading_variables 테이블을 수정 후 sync_db_to_code.py 실행",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\agent_info.py": [
        {
          "line_number": 128,
          "line_content": "if 'tv_trading_variables' in [t[0] for t in tables]:",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 130,
          "line_content": "cursor.execute(\"SELECT purpose_category, COUNT(*) FROM tv_trading_variables GROUP BY purpose_category\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 135,
          "line_content": "cursor.execute(\"SELECT chart_category, COUNT(*) FROM tv_trading_variables GROUP BY chart_category\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 158,
          "line_content": "cursor.execute(\"SELECT * FROM tv_trading_variables WHERE variable_id = 'SMA'\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 161,
          "line_content": "cursor.execute(\"PRAGMA table_info(tv_trading_variables)\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\db_data_manager.py": [
        {
          "line_number": 68,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 195,
          "line_content": "cursor.execute(\"SELECT COUNT(*) as total FROM tv_trading_variables\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 198,
          "line_content": "cursor.execute(\"SELECT COUNT(*) as active FROM tv_trading_variables WHERE is_active = 1\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 208,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 218,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        },
        {
          "line_number": 272,
          "line_content": "FROM tv_trading_variables",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\json_viewer.py": [
        {
          "line_number": 177,
          "line_content": "cursor.execute(\"SELECT * FROM tv_trading_variables ORDER BY variable_id\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 210,
          "line_content": "cursor.execute(\"SELECT * FROM tv_trading_variables ORDER BY variable_id\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 255,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_trading_variables\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 263,
          "line_content": "cursor.execute(\"SELECT purpose_category, COUNT(*) FROM tv_trading_variables GROUP BY purpose_category\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 268,
          "line_content": "cursor.execute(\"SELECT chart_category, COUNT(*) FROM tv_trading_variables GROUP BY chart_category\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 302,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_trading_variables\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 309,
          "line_content": "cursor.execute(\"SELECT purpose_category, COUNT(*) FROM tv_trading_variables GROUP BY purpose_category\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\unified_code_generator.py": [
        {
          "line_number": 79,
          "line_content": "FROM tv_trading_variables tv",
          "match_type": "sql_context_unknown",
          "table_name": "tv_trading_variables",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\variables_viewer.py": [
        {
          "line_number": 387,
          "line_content": "cursor.execute(\"SELECT name FROM sqlite_master WHERE name = 'tv_trading_variables'\")",
          "match_type": "sql_context_read",
          "table_name": "tv_trading_variables",
          "operation_type": "read"
        },
        {
          "line_number": 389,
          "line_content": "return 'tv_trading_variables'",
          "match_type": "quoted_strings_pattern",
          "table_name": "tv_trading_variables",
          "pattern": "[\"\\']tv_trading_variables[\"\\']",
          "operation_type": "reference"
        }
      ]
    },
    "tv_variable_parameters": {
      "upbit_auto_trading\\config\\database_paths.py": [
        {
          "line_number": 72,
          "line_content": "'tv_variable_parameters': 'settings.sqlite3',",
          "match_type": "sql_context_unknown",
          "table_name": "tv_variable_parameters",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\ui\\desktop\\screens\\strategy_management\\trigger_builder\\components\\core\\variable_definitions.py": [
        {
          "line_number": 125,
          "line_content": "FROM tv_variable_parameters vp",
          "match_type": "sql_context_unknown",
          "table_name": "tv_variable_parameters",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\migrate_db.py": [
        {
          "line_number": 235,
          "line_content": "'tv_variable_parameters',",
          "match_type": "quoted_strings_pattern",
          "table_name": "tv_variable_parameters",
          "pattern": "[\"\\']tv_variable_parameters[\"\\']",
          "operation_type": "reference"
        },
        {
          "line_number": 264,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_variable_parameters\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\sync_db_to_code.py": [
        {
          "line_number": 105,
          "line_content": "FROM tv_variable_parameters",
          "match_type": "sql_context_unknown",
          "table_name": "tv_variable_parameters",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\agent_info.py": [
        {
          "line_number": 143,
          "line_content": "if 'tv_variable_parameters' in [t[0] for t in tables]:",
          "match_type": "sql_context_unknown",
          "table_name": "tv_variable_parameters",
          "operation_type": "unknown"
        },
        {
          "line_number": 145,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_variable_parameters\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        },
        {
          "line_number": 149,
          "line_content": "cursor.execute(\"SELECT variable_id, COUNT(*) FROM tv_variable_parameters GROUP BY variable_id ORDER BY COUNT(*) DESC LIMIT 10\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        },
        {
          "line_number": 166,
          "line_content": "cursor.execute(\"SELECT * FROM tv_variable_parameters WHERE variable_id = 'SMA' ORDER BY display_order\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        },
        {
          "line_number": 192,
          "line_content": "if 'tv_variable_parameters' not in [t[0] for t in tables]:",
          "match_type": "sql_context_unknown",
          "table_name": "tv_variable_parameters",
          "operation_type": "unknown"
        },
        {
          "line_number": 195,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_variable_parameters\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        },
        {
          "line_number": 203,
          "line_content": "if 'tv_variable_parameters' in [t[0] for t in tables]:",
          "match_type": "sql_context_unknown",
          "table_name": "tv_variable_parameters",
          "operation_type": "unknown"
        },
        {
          "line_number": 204,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_variable_parameters WHERE variable_id = 'SMA'\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\db_data_manager.py": [
        {
          "line_number": 113,
          "line_content": "FROM tv_variable_parameters",
          "match_type": "sql_context_unknown",
          "table_name": "tv_variable_parameters",
          "operation_type": "unknown"
        },
        {
          "line_number": 202,
          "line_content": "cursor.execute(\"SELECT COUNT(*) as total FROM tv_variable_parameters\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\json_viewer.py": [
        {
          "line_number": 187,
          "line_content": "cursor.execute(\"SELECT * FROM tv_variable_parameters ORDER BY variable_id, display_order\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        },
        {
          "line_number": 227,
          "line_content": "cursor.execute(\"SELECT * FROM tv_variable_parameters ORDER BY variable_id, display_order\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        },
        {
          "line_number": 259,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_variable_parameters\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        },
        {
          "line_number": 273,
          "line_content": "cursor.execute(\"SELECT parameter_type, COUNT(*) FROM tv_variable_parameters GROUP BY parameter_type\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        },
        {
          "line_number": 280,
          "line_content": "FROM tv_variable_parameters",
          "match_type": "sql_context_unknown",
          "table_name": "tv_variable_parameters",
          "operation_type": "unknown"
        },
        {
          "line_number": 305,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM tv_variable_parameters\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\unified_code_generator.py": [
        {
          "line_number": 108,
          "line_content": "FROM tv_variable_parameters",
          "match_type": "sql_context_unknown",
          "table_name": "tv_variable_parameters",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\utils\\trading_variables\\gui_variables_DB_migration_util\\components\\variables_viewer.py": [
        {
          "line_number": 401,
          "line_content": "cursor.execute(\"SELECT name FROM sqlite_master WHERE name = 'tv_variable_parameters'\")",
          "match_type": "sql_context_read",
          "table_name": "tv_variable_parameters",
          "operation_type": "read"
        },
        {
          "line_number": 403,
          "line_content": "return 'tv_variable_parameters'",
          "match_type": "quoted_strings_pattern",
          "table_name": "tv_variable_parameters",
          "pattern": "[\"\\']tv_variable_parameters[\"\\']",
          "operation_type": "reference"
        }
      ]
    },
    "trading_conditions": {
      "upbit_auto_trading\\component_system\\__init__.py": [
        {
          "line_number": 46,
          "line_content": "from .conditions.trading_conditions import (",
          "match_type": "sql_context_unknown",
          "table_name": "trading_conditions",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\component_system\\strategies\\pyramiding_example.py": [
        {
          "line_number": 20,
          "line_content": "from ..conditions.trading_conditions import (",
          "match_type": "sql_context_unknown",
          "table_name": "trading_conditions",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\config\\database_paths.py": [
        {
          "line_number": 99,
          "line_content": "'trading_conditions': 'strategies.sqlite3',  # 실제 사용자 생성 트리거들",
          "match_type": "quoted_strings_pattern",
          "table_name": "trading_conditions",
          "pattern": "[\"\\']trading_conditions[\"\\']",
          "operation_type": "reference"
        },
        {
          "line_number": 261,
          "line_content": "test_tables = ['trading_conditions', 'strategies', 'tv_trading_variables', 'market_data']",
          "match_type": "sql_context_unknown",
          "table_name": "trading_conditions",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\ui\\desktop\\screens\\strategy_management\\strategy_maker\\components\\condition_storage.py": [
        {
          "line_number": 47,
          "line_content": "return get_db_connection('trading_conditions')",
          "match_type": "quoted_strings_pattern",
          "table_name": "trading_conditions",
          "pattern": "[\"\\']trading_conditions[\"\\']",
          "operation_type": "reference"
        },
        {
          "line_number": 70,
          "line_content": "if 'trading_conditions' not in existing_tables:",
          "match_type": "sql_context_unknown",
          "table_name": "trading_conditions",
          "operation_type": "unknown"
        },
        {
          "line_number": 81,
          "line_content": "def _create_trading_conditions_table(self, cursor):",
          "match_type": "class_table_names_pattern",
          "table_name": "trading_conditions",
          "pattern": "def\\s+.*trading_conditions.*\\(",
          "operation_type": "reference"
        },
        {
          "line_number": 84,
          "line_content": "CREATE TABLE IF NOT EXISTS trading_conditions (",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 110,
          "line_content": "cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_trading_conditions_name ON trading_conditions(name)\")",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 111,
          "line_content": "cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_trading_conditions_active ON trading_conditions(is_active)\")",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 112,
          "line_content": "cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_trading_conditions_category ON trading_conditions(category)\")",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 121,
          "line_content": "CREATE TABLE IF NOT EXISTS trading_conditions (",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 183,
          "line_content": "\"SELECT id, name FROM trading_conditions WHERE id = ?\",",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 191,
          "line_content": "UPDATE trading_conditions SET",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 221,
          "line_content": "\"SELECT id FROM trading_conditions WHERE name = ?\",",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 233,
          "line_content": "UPDATE trading_conditions SET",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 259,
          "line_content": "INSERT INTO trading_conditions (",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 296,
          "line_content": "\"SELECT * FROM trading_conditions WHERE id = ?\",",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 317,
          "line_content": "\"SELECT * FROM trading_conditions WHERE name = ?\",",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 337,
          "line_content": "query = \"SELECT * FROM trading_conditions\"",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 359,
          "line_content": "\"SELECT * FROM trading_conditions WHERE category = ? AND is_active = 1 ORDER BY created_at DESC\",",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 399,
          "line_content": "query = f\"UPDATE trading_conditions SET {', '.join(set_clauses)} WHERE id = ?\"",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 418,
          "line_content": "\"UPDATE trading_conditions SET is_active = 0, updated_at = CURRENT_TIMESTAMP WHERE id = ?\",",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 439,
          "line_content": "SELECT * FROM trading_conditions",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 462,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM trading_conditions WHERE is_active = 1\")",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 468,
          "line_content": "FROM trading_conditions",
          "match_type": "sql_context_unknown",
          "table_name": "trading_conditions",
          "operation_type": "unknown"
        },
        {
          "line_number": 477,
          "line_content": "FROM trading_conditions",
          "match_type": "sql_context_unknown",
          "table_name": "trading_conditions",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\ui\\desktop\\screens\\strategy_management\\trigger_builder\\components\\core\\condition_storage.py": [
        {
          "line_number": 42,
          "line_content": "return get_db_connection('trading_conditions')",
          "match_type": "quoted_strings_pattern",
          "table_name": "trading_conditions",
          "pattern": "[\"\\']trading_conditions[\"\\']",
          "operation_type": "reference"
        },
        {
          "line_number": 58,
          "line_content": "if 'trading_conditions' not in existing_tables:",
          "match_type": "sql_context_unknown",
          "table_name": "trading_conditions",
          "operation_type": "unknown"
        },
        {
          "line_number": 76,
          "line_content": "def _create_trading_conditions_table(self, cursor):",
          "match_type": "class_table_names_pattern",
          "table_name": "trading_conditions",
          "pattern": "def\\s+.*trading_conditions.*\\(",
          "operation_type": "reference"
        },
        {
          "line_number": 79,
          "line_content": "CREATE TABLE IF NOT EXISTS trading_conditions (",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 105,
          "line_content": "cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_trading_conditions_name ON trading_conditions(name)\")",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 106,
          "line_content": "cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_trading_conditions_active ON trading_conditions(is_active)\")",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 107,
          "line_content": "cursor.execute(\"CREATE INDEX IF NOT EXISTS idx_trading_conditions_category ON trading_conditions(category)\")",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 172,
          "line_content": "\"SELECT id, name FROM trading_conditions WHERE id = ?\",",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 180,
          "line_content": "UPDATE trading_conditions SET",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 214,
          "line_content": "\"SELECT id FROM trading_conditions WHERE name = ?\",",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 226,
          "line_content": "UPDATE trading_conditions SET",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 255,
          "line_content": "INSERT INTO trading_conditions (",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 297,
          "line_content": "\"SELECT * FROM trading_conditions WHERE id = ?\",",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 319,
          "line_content": "\"SELECT * FROM trading_conditions WHERE name = ?\",",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 341,
          "line_content": "query = \"SELECT * FROM trading_conditions\"",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 364,
          "line_content": "\"SELECT * FROM trading_conditions WHERE category = ? AND is_active = 1 ORDER BY created_at DESC\",",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 405,
          "line_content": "query = f\"UPDATE trading_conditions SET {', '.join(set_clauses)} WHERE id = ?\"",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 425,
          "line_content": "cursor.execute(\"SELECT id, name FROM trading_conditions WHERE id = ?\", (condition_id,))",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 434,
          "line_content": "cursor.execute(\"DELETE FROM trading_conditions WHERE id = ?\", (condition_id,))",
          "match_type": "sql_context_write",
          "table_name": "trading_conditions",
          "operation_type": "write"
        },
        {
          "line_number": 456,
          "line_content": "SELECT * FROM trading_conditions",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 480,
          "line_content": "cursor.execute(\"SELECT COUNT(*) FROM trading_conditions WHERE is_active = 1\")",
          "match_type": "sql_context_read",
          "table_name": "trading_conditions",
          "operation_type": "read"
        },
        {
          "line_number": 486,
          "line_content": "FROM trading_conditions",
          "match_type": "sql_context_unknown",
          "table_name": "trading_conditions",
          "operation_type": "unknown"
        },
        {
          "line_number": 495,
          "line_content": "FROM trading_conditions",
          "match_type": "sql_context_unknown",
          "table_name": "trading_conditions",
          "operation_type": "unknown"
        }
      ],
      "upbit_auto_trading\\utils\\global_db_manager.py": [
        {
          "line_number": 40,
          "line_content": "conn = db_manager.get_connection('trading_conditions')",
          "match_type": "quoted_strings_pattern",
          "table_name": "trading_conditions",
          "pattern": "[\"\\']trading_conditions[\"\\']",
          "operation_type": "reference"
        },
        {
          "line_number": 171,
          "line_content": "'trading_conditions': 'strategies',  # 🔧 strategies DB로 수정",
          "match_type": "quoted_strings_pattern",
          "table_name": "trading_conditions",
          "pattern": "[\"\\']trading_conditions[\"\\']",
          "operation_type": "reference"
        }
      ]
    }
  },
  "summary": {
    "tv_trading_variables": {
      "total_references": 44,
      "affected_files": 11,
      "avg_refs_per_file": 4.0
    },
    "tv_variable_parameters": {
      "total_references": 24,
      "affected_files": 9,
      "avg_refs_per_file": 2.67
    },
    "trading_conditions": {
      "total_references": 52,
      "affected_files": 6,
      "avg_refs_per_file": 8.67
    }
  }
}